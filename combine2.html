<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <style>
        circle,
        path,
        .node {
            cursor: pointer;
        }

        circle {
            fill: none;
            pointer-events: all;
        }

        #tooltip {
            background-color: white;
            padding: 3px 5px;
            border: 1px solid black;
            text-align: center;
        }

        html {
            font-family: sans-serif;
        }

        .node circle {
            fill: #fff;
            stroke: steelblue;
            stroke-width: 1.5px;
        }

        .node text {
            font: 10px sans-serif;
        }

        .link {
            fill: none;
            stroke: #ccc;
            stroke-width: 1.5px;
        }

        h1 {
            text-align: center;
        }
    </style>
</head>

<body>
    <div>
        <h1>Microbiome Tree</h1>
        <div class="tree"></div>
    </div>
    <hr />
    <div>
        <h1>Microbiome Donut Chart</h1>
        <div class="bilevel"></div>
    </div>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script>
        var margin = { top: 350, right: 480, bottom: 350, left: 480 },
            radius =
                Math.min(margin.top, margin.right, margin.bottom, margin.left) - 10;
        function filter_min_arc_size_text(d, i) {
            return (d.dx * d.depth * radius) / 3 > 14;
        }
        var hue = d3.scale.category20c();
        var luminance = d3.scale
            .sqrt()
            .domain([0, 1e6])
            .clamp(true)
            .range([90, 20]);
        var svg = d3
            .select(".bilevel")
            .append("svg")
            .attr("width", margin.left + margin.right)
            .attr("height", margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        var partition = d3.layout
            .partition()
            .sort(function (a, b) {
                return d3.ascending(a.name, b.name);
            })
            .size([2 * Math.PI, radius]);
        var arc = d3.svg
            .arc()
            .startAngle(function (d) {
                return d.x;
            })
            .endAngle(function (d) {
                return d.x + d.dx - 0.01 / (d.depth + 0.5);
            })
            .innerRadius(function (d) {
                return (radius / 3) * d.depth;
            })
            .outerRadius(function (d) {
                return (radius / 3) * (d.depth + 1) - 1;
            });
        var tooltip = d3
            .select(".bilevel")
            .append("div")
            .attr("id", "tooltip")
            .style("position", "absolute")
            .style("z-index", "10")
            .style("opacity", 0);
        function format_number(x) {
            return x.toString().replace(/B(?=(d{3})+(?!d))/g, ",");
        }
        function format_description(d) {
            var description = d.name;
            return d.name;
        }
        function computeTextRotation(d) {
            var angle = ((d.x + d.dx / 2) * 180) / Math.PI - 90;
            return angle;
        }
        function mouseOverArc(d) {
            d3.select(this).attr("stroke", "black");
            tooltip.html(format_description(d));
            return tooltip.transition().duration(50).style("opacity", 0.9);
        }
        function mouseOutArc() {
            d3.select(this).attr("stroke", "");
            return tooltip.style("opacity", 0);
        }
        function mouseMoveArc(d) {
            return tooltip
                .style("top", d3.event.pageY - 10 + "px")
                .style("left", d3.event.pageX + 10 + "px");
        }
        var root_ = null;
        root = JSON.parse(
            '{"name": "root (32457)", "size": "32457", "children": [{"name": "Viruses (1)", "size": "1", "children": [{"name": "Sangervirae (1)", "size": "1", "children": [{"name": "Phixviricota (1)", "size": "1", "children": [{"name": "Malgrandaviricetes (1)", "size": "1", "children": [{"name": "Petitvirales (1)", "size": "1", "children": [{"name": "Microviridae (1)", "size": "1", "children": [{"name": "Gequatrovirus (1)", "size": "1", "children": [{"name": "Escherichia virus Talmos (1)", "size": "1"}]}]}]}]}]}]}]},{"name": "Bacteria (32408)", "size": "32408", "children": [{"name": "Proteobacteria (2060)", "size": "2060", "children": [{"name": "Gammaproteobacteria (488)", "size": "488", "children": [{"name": "Pseudomonadales (324)", "size": "324", "children": [{"name": "Moraxellaceae (323)", "size": "323", "children": [{"name": "Acinetobacter (322)", "size": "322", "children": [{"name": "Acinetobacter haemolyticus (322)", "size": "322"}]},{"name": "Psychrobacter (1)", "size": "1", "children": [{"name": "unassigned Psychrobacter (1)", "size": "1"}]}]},{"name": "Pseudomonadaceae (1)", "size": "1", "children": [{"name": "Pseudomonas (1)", "size": "1", "children": [{"name": "unassigned Pseudomonas (1)", "size": "1"}]}]}]},{"name": "Enterobacterales (2)", "size": "2", "children": [{"name": "Pectobacteriaceae (1)", "size": "1", "children": [{"name": "Pectobacterium (1)", "size": "1", "children": [{"name": "Pectobacterium parmentieri (1)", "size": "1"}]}]},{"name": "unassigned Enterobacterales (1)", "size": "1"}]},{"name": "Chromatiales (1)", "size": "1", "children": [{"name": "Ectothiorhodospiraceae (1)", "size": "1", "children": [{"name": "unassigned Ectothiorhodospiraceae (1)", "size": "1"}]}]},{"name": "Oceanospirillales (155)", "size": "155", "children": [{"name": "Halomonadaceae (155)", "size": "155", "children": [{"name": "Candidatus Carsonella (155)", "size": "155", "children": [{"name": "Candidatus Carsonella ruddii (155)", "size": "155"}]}]}]},{"name": "Vibrionales (2)", "size": "2", "children": [{"name": "Vibrionaceae (2)", "size": "2", "children": [{"name": "Vibrio (2)", "size": "2", "children": [{"name": "unassigned Vibrio (2)", "size": "2"}]}]}]},{"name": "Pasteurellales (1)", "size": "1", "children": [{"name": "Pasteurellaceae (1)", "size": "1", "children": [{"name": "Actinobacillus (1)", "size": "1", "children": [{"name": "Actinobacillus pleuropneumoniae (1)", "size": "1"}]}]}]},{"name": "unassigned Gammaproteobacteria (3)", "size": "3"}]},{"name": "Alphaproteobacteria (1324)", "size": "1324", "children": [{"name": "Rhizobiales (14)", "size": "14", "children": [{"name": "Bradyrhizobiaceae (1)", "size": "1", "children": [{"name": "Bosea (1)", "size": "1", "children": [{"name": "Bosea sp. Tri-49 (1)", "size": "1"}]}]},{"name": "Hyphomicrobiaceae (12)", "size": "12", "children": [{"name": "Rhodomicrobium (1)", "size": "1", "children": [{"name": "Rhodomicrobium vannielii (1)", "size": "1"}]},{"name": "Devosia (11)", "size": "11", "children": [{"name": "Devosia sp. S02 (11)", "size": "11"}]}]},{"name": "Candidatus Hodgkinia (1)", "size": "1", "children": [{"name": "Candidatus Hodgkinia cicadicola (1)", "size": "1"}]}]},{"name": "Rickettsiales (3)", "size": "3", "children": [{"name": "Rickettsiaceae (3)", "size": "3", "children": [{"name": "Orientia (1)", "size": "1", "children": [{"name": "Orientia tsutsugamushi (1)", "size": "1"}]},{"name": "Candidatus Sneabacter (2)", "size": "2", "children": [{"name": "Candidatus Sneabacter namystus (2)", "size": "2"}]}]}]},{"name": "Rhodospirillales (1298)", "size": "1298", "children": [{"name": "Acetobacteraceae (2)", "size": "2", "children": [{"name": "Commensalibacter (1)", "size": "1", "children": [{"name": "unassigned Commensalibacter (1)", "size": "1"}]},{"name": "unassigned Acetobacteraceae (1)", "size": "1"}]},{"name": "Rhodospirillaceae (1268)", "size": "1268", "children": [{"name": "Niveispirillum (3)", "size": "3", "children": [{"name": "Niveispirillum cyanobacteriorum (3)", "size": "3"}]},{"name": "Haematospirillum (1264)", "size": "1264", "children": [{"name": "Haematospirillum jordaniae (1264)", "size": "1264"}]},{"name": "unassigned Rhodospirillaceae (1)", "size": "1"}]},{"name": "unassigned Rhodospirillales (28)", "size": "28"}]},{"name": "Sphingomonadales (1)", "size": "1", "children": [{"name": "Erythrobacteraceae (1)", "size": "1", "children": [{"name": "unassigned Erythrobacteraceae (1)", "size": "1"}]}]},{"name": "Caulobacterales (1)", "size": "1", "children": [{"name": "Caulobacteraceae (1)", "size": "1", "children": [{"name": "Asticcacaulis (1)", "size": "1", "children": [{"name": "Asticcacaulis excentricus (1)", "size": "1"}]}]}]},{"name": "Emcibacterales (1)", "size": "1", "children": [{"name": "Emcibacteraceae (1)", "size": "1", "children": [{"name": "Emcibacter (1)", "size": "1", "children": [{"name": "unassigned Emcibacter (1)", "size": "1"}]}]}]},{"name": "unassigned Alphaproteobacteria (6)", "size": "6"}]},{"name": "Betaproteobacteria (195)", "size": "195", "children": [{"name": "Nitrosomonadales (3)", "size": "3", "children": [{"name": "Nitrosomonadaceae (3)", "size": "3", "children": [{"name": "Nitrosomonas (3)", "size": "3", "children": [{"name": "unassigned Nitrosomonas (3)", "size": "3"}]}]}]},{"name": "Burkholderiales (192)", "size": "192", "children": [{"name": "Alcaligenaceae (1)", "size": "1", "children": [{"name": "unassigned Alcaligenaceae (1)", "size": "1"}]},{"name": "Burkholderiaceae (9)", "size": "9", "children": [{"name": "Ralstonia (1)", "size": "1", "children": [{"name": "Ralstonia solanacearum (1)", "size": "1"}]},{"name": "Chitinimonas (1)", "size": "1", "children": [{"name": "Chitinimonas arctica (1)", "size": "1"}]},{"name": "Mycoavidus (7)", "size": "7", "children": [{"name": "unassigned Mycoavidus (7)", "size": "7"}]}]},{"name": "Sutterellaceae (1)", "size": "1", "children": [{"name": "Sutterella (1)", "size": "1", "children": [{"name": "Sutterella megalosphaeroides (1)", "size": "1"}]}]},{"name": "unassigned Burkholderiales (181)", "size": "181"}]}]},{"name": "Deltaproteobacteria (51)", "size": "51", "children": [{"name": "Desulfovibrionales (41)", "size": "41", "children": [{"name": "Desulfovibrionaceae (39)", "size": "39", "children": [{"name": "Desulfovibrio (38)", "size": "38", "children": [{"name": "Desulfovibrio alaskensis (36)", "size": "36"},{"name": "unassigned Desulfovibrio (2)", "size": "2"}]},{"name": "unassigned Desulfovibrionaceae (1)", "size": "1"}]},{"name": "unassigned Desulfovibrionales (2)", "size": "2"}]},{"name": "Syntrophobacterales (10)", "size": "10", "children": [{"name": "Syntrophaceae (10)", "size": "10", "children": [{"name": "Desulfobacca (10)", "size": "10", "children": [{"name": "Desulfobacca acetoxidans (10)", "size": "10"}]}]}]}]},{"name": "Epsilonproteobacteria (1)", "size": "1", "children": [{"name": "Campylobacterales (1)", "size": "1", "children": [{"name": "Campylobacteraceae (1)", "size": "1", "children": [{"name": "Halarcobacter (1)", "size": "1", "children": [{"name": "Halarcobacter bivalviorum (1)", "size": "1"}]}]}]}]},{"name": "unassigned Proteobacteria (1)", "size": "1"}]},{"name": "Fusobacteria (3)", "size": "3", "children": [{"name": "Fusobacteriia (3)", "size": "3", "children": [{"name": "Fusobacteriales (3)", "size": "3", "children": [{"name": "Fusobacteriaceae (3)", "size": "3", "children": [{"name": "Fusobacterium (3)", "size": "3", "children": [{"name": "Fusobacterium mortiferum (2)", "size": "2"},{"name": "Fusobacterium nucleatum (1)", "size": "1"}]}]}]}]}]},{"name": "Acidobacteria (32)", "size": "32", "children": [{"name": "Acidobacteriia (32)", "size": "32", "children": [{"name": "Bryobacterales (32)", "size": "32", "children": [{"name": "Solibacteraceae (32)", "size": "32", "children": [{"name": "Candidatus Solibacter (32)", "size": "32", "children": [{"name": "Candidatus Solibacter usitatus (32)", "size": "32"}]}]}]}]}]},{"name": "Synergistetes (5)", "size": "5", "children": [{"name": "Synergistia (5)", "size": "5", "children": [{"name": "Synergistales (5)", "size": "5", "children": [{"name": "Synergistaceae (5)", "size": "5", "children": [{"name": "Cloacibacillus (5)", "size": "5", "children": [{"name": "Cloacibacillus porcorum (5)", "size": "5"}]}]}]}]}]},{"name": "Verrucomicrobia (2)", "size": "2", "children": [{"name": "Opitutae (2)", "size": "2", "children": [{"name": "Puniceicoccales (2)", "size": "2", "children": [{"name": "Puniceicoccaceae (2)", "size": "2", "children": [{"name": "Coraliomargarita (2)", "size": "2", "children": [{"name": "Coraliomargarita akajimensis (2)", "size": "2"}]}]}]}]}]},{"name": "Kiritimatiellaeota (1)", "size": "1", "children": [{"name": "Kiritimatiellae (1)", "size": "1", "children": [{"name": "Kiritimatiellales (1)", "size": "1", "children": [{"name": "Kiritimatiellaceae (1)", "size": "1", "children": [{"name": "Kiritimatiella (1)", "size": "1", "children": [{"name": "Kiritimatiella glycovorans (1)", "size": "1"}]}]}]}]}]},{"name": "Fibrobacteres (2)", "size": "2", "children": [{"name": "Fibrobacteria (2)", "size": "2", "children": [{"name": "Fibrobacterales (2)", "size": "2", "children": [{"name": "Fibrobacteraceae (2)", "size": "2", "children": [{"name": "Fibrobacter (2)", "size": "2", "children": [{"name": "Fibrobacter succinogenes (2)", "size": "2"}]}]}]}]}]},{"name": "Bacteroidetes (9292)", "size": "9292", "children": [{"name": "Flavobacteriia (51)", "size": "51", "children": [{"name": "Flavobacteriales (51)", "size": "51", "children": [{"name": "Flavobacteriaceae (5)", "size": "5", "children": [{"name": "Muricauda (3)", "size": "3", "children": [{"name": "unassigned Muricauda (3)", "size": "3"}]},{"name": "Croceibacter (1)", "size": "1", "children": [{"name": "Croceibacter atlanticus (1)", "size": "1"}]},{"name": "unassigned Flavobacteriaceae (1)", "size": "1"}]},{"name": "Candidatus Sulcia (2)", "size": "2", "children": [{"name": "Candidatus Sulcia muelleri (2)", "size": "2"}]},{"name": "Weeksellaceae (1)", "size": "1", "children": [{"name": "Cruoricaptor (1)", "size": "1", "children": [{"name": "Cruoricaptor ignavus (1)", "size": "1"}]}]},{"name": "unassigned Flavobacteriales (43)", "size": "43"}]}]},{"name": "Sphingobacteriia (39)", "size": "39", "children": [{"name": "Sphingobacteriales (39)", "size": "39", "children": [{"name": "Sphingobacteriaceae (39)", "size": "39", "children": [{"name": "Solitalea (2)", "size": "2", "children": [{"name": "Solitalea canadensis (2)", "size": "2"}]},{"name": "unassigned Sphingobacteriaceae (37)", "size": "37"}]}]}]},{"name": "Bacteroidia (9192)", "size": "9192", "children": [{"name": "Bacteroidales (9192)", "size": "9192", "children": [{"name": "Bacteroidaceae (1934)", "size": "1934", "children": [{"name": "Bacteroides (1934)", "size": "1934", "children": [{"name": "Bacteroides uniformis (537)", "size": "537"},{"name": "Bacteroides heparinolyticus (175)", "size": "175"},{"name": "Bacteroides ovatus (56)", "size": "56"},{"name": "Bacteroides zoogleoformans (3)", "size": "3"},{"name": "Bacteroides caccae (464)", "size": "464"},{"name": "Bacteroides cellulosilyticus (6)", "size": "6"},{"name": "Bacteroides helcogenes (2)", "size": "2"},{"name": "Bacteroides intestinalis (239)", "size": "239"},{"name": "unassigned Bacteroides (452)", "size": "452"}]}]},{"name": "Rikenellaceae (1416)", "size": "1416", "children": [{"name": "Alistipes (1415)", "size": "1415", "children": [{"name": "Alistipes finegoldii (188)", "size": "188"},{"name": "Alistipes onderdonkii (476)", "size": "476"},{"name": "Alistipes shahii (31)", "size": "31"},{"name": "Alistipes indistinctus (10)", "size": "10"},{"name": "Alistipes communis (126)", "size": "126"},{"name": "Alistipes dispar (7)", "size": "7"},{"name": "Alistipes sp. dk3624 (10)", "size": "10"},{"name": "unassigned Alistipes (567)", "size": "567"}]},{"name": "unassigned Rikenellaceae (1)", "size": "1"}]},{"name": "Porphyromonadaceae (2)", "size": "2", "children": [{"name": "Porphyromonas (2)", "size": "2", "children": [{"name": "Porphyromonas asaccharolytica (1)", "size": "1"},{"name": "Porphyromonas cangingivalis (1)", "size": "1"}]}]},{"name": "Prevotellaceae (26)", "size": "26", "children": [{"name": "Prevotella (14)", "size": "14", "children": [{"name": "Prevotella intermedia (1)", "size": "1"},{"name": "Prevotella oris (12)", "size": "12"},{"name": "unassigned Prevotella (1)", "size": "1"}]},{"name": "Paraprevotella (1)", "size": "1", "children": [{"name": "Paraprevotella xylaniphila (1)", "size": "1"}]},{"name": "Alloprevotella (11)", "size": "11", "children": [{"name": "Alloprevotella sp. E39 (11)", "size": "11"}]}]},{"name": "Phocaeicola (5419)", "size": "5419", "children": [{"name": "Phocaeicola vulgatus (4631)", "size": "4631"},{"name": "Phocaeicola dorei (694)", "size": "694"},{"name": "Phocaeicola salanitronis (4)", "size": "4"},{"name": "unassigned Phocaeicola (90)", "size": "90"}]},{"name": "Odoribacteraceae (61)", "size": "61", "children": [{"name": "Odoribacter (34)", "size": "34", "children": [{"name": "Odoribacter splanchnicus (34)", "size": "34"}]},{"name": "Butyricimonas (27)", "size": "27", "children": [{"name": "Butyricimonas faecalis (27)", "size": "27"}]}]},{"name": "Muribaculaceae (196)", "size": "196", "children": [{"name": "Muribaculum (91)", "size": "91", "children": [{"name": "Muribaculum sp. TLL-A4 (1)", "size": "1"},{"name": "unassigned Muribaculum (90)", "size": "90"}]},{"name": "unassigned Muribaculaceae (105)", "size": "105"}]},{"name": "Dysgonomonadaceae (44)", "size": "44", "children": [{"name": "Dysgonomonas (43)", "size": "43", "children": [{"name": "unassigned Dysgonomonas (43)", "size": "43"}]},{"name": "Proteiniphilum (1)", "size": "1", "children": [{"name": "Proteiniphilum saccharofermentans (1)", "size": "1"}]}]},{"name": "Tannerellaceae (78)", "size": "78", "children": [{"name": "Tannerella (3)", "size": "3", "children": [{"name": "Tannerella sp. oral taxon HOT-286 (1)", "size": "1"},{"name": "unassigned Tannerella (2)", "size": "2"}]},{"name": "Parabacteroides (74)", "size": "74", "children": [{"name": "Parabacteroides distasonis (1)", "size": "1"},{"name": "unassigned Parabacteroides (73)", "size": "73"}]},{"name": "unassigned Tannerellaceae (1)", "size": "1"}]},{"name": "unassigned Bacteroidales (16)", "size": "16"}]}]},{"name": "Chitinophagia (3)", "size": "3", "children": [{"name": "Chitinophagales (3)", "size": "3", "children": [{"name": "Chitinophagaceae (3)", "size": "3", "children": [{"name": "Niabella (2)", "size": "2", "children": [{"name": "Niabella ginsenosidivorans (2)", "size": "2"}]},{"name": "Flavisolibacter (1)", "size": "1", "children": [{"name": "Flavisolibacter sp. 17J28-1 (1)", "size": "1"}]}]}]}]},{"name": "Saprospiria (2)", "size": "2", "children": [{"name": "Saprospirales (2)", "size": "2", "children": [{"name": "Haliscomenobacteraceae (2)", "size": "2", "children": [{"name": "Haliscomenobacter (2)", "size": "2", "children": [{"name": "Haliscomenobacter hydrossis (2)", "size": "2"}]}]}]}]},{"name": "unassigned Bacteroidetes (5)", "size": "5"}]},{"name": "Ignavibacteriae (3)", "size": "3", "children": [{"name": "Ignavibacteria (3)", "size": "3", "children": [{"name": "Ignavibacteriales (3)", "size": "3", "children": [{"name": "Melioribacteraceae (3)", "size": "3", "children": [{"name": "Melioribacter (3)", "size": "3", "children": [{"name": "Melioribacter roseus (3)", "size": "3"}]}]}]}]}]},{"name": "Firmicutes (20132)", "size": "20132", "children": [{"name": "Bacilli (93)", "size": "93", "children": [{"name": "Bacillales (69)", "size": "69", "children": [{"name": "Staphylococcaceae (2)", "size": "2", "children": [{"name": "Staphylococcus (2)", "size": "2", "children": [{"name": "Staphylococcus aureus (2)", "size": "2"}]}]},{"name": "Bacillaceae (4)", "size": "4", "children": [{"name": "Bacillus (2)", "size": "2", "children": [{"name": "Bacillus amyloliquefaciens (2)", "size": "2"}]},{"name": "Geobacillus (1)", "size": "1", "children": [{"name": "Geobacillus sp. 46C-IIa (1)", "size": "1"}]},{"name": "Anoxybacillus (1)", "size": "1", "children": [{"name": "Anoxybacillus gonensis (1)", "size": "1"}]}]},{"name": "Listeriaceae (1)", "size": "1", "children": [{"name": "Brochothrix (1)", "size": "1", "children": [{"name": "Brochothrix thermosphacta (1)", "size": "1"}]}]},{"name": "Paenibacillaceae (1)", "size": "1", "children": [{"name": "Paenibacillus (1)", "size": "1", "children": [{"name": "Paenibacillus mucilaginosus (1)", "size": "1"}]}]},{"name": "Thermoactinomycetaceae (16)", "size": "16", "children": [{"name": "Laceyella (2)", "size": "2", "children": [{"name": "Laceyella sacchari (2)", "size": "2"}]},{"name": "Staphylospora (14)", "size": "14", "children": [{"name": "Staphylospora marina (14)", "size": "14"}]}]},{"name": "unassigned Bacillales (45)", "size": "45"}]},{"name": "Lactobacillales (21)", "size": "21", "children": [{"name": "Streptococcaceae (2)", "size": "2", "children": [{"name": "Streptococcus (2)", "size": "2", "children": [{"name": "Streptococcus respiraculi (1)", "size": "1"},{"name": "unassigned Streptococcus (1)", "size": "1"}]}]},{"name": "Lactobacillaceae (9)", "size": "9", "children": [{"name": "Lactobacillus (2)", "size": "2", "children": [{"name": "Lactobacillus delbrueckii (1)", "size": "1"},{"name": "unassigned Lactobacillus (1)", "size": "1"}]},{"name": "Limosilactobacillus (1)", "size": "1", "children": [{"name": "Limosilactobacillus fermentum (1)", "size": "1"}]},{"name": "Lactiplantibacillus (1)", "size": "1", "children": [{"name": "Lactiplantibacillus plantarum (1)", "size": "1"}]},{"name": "Lentilactobacillus (1)", "size": "1", "children": [{"name": "Lentilactobacillus buchneri (1)", "size": "1"}]},{"name": "unassigned Lactobacillaceae (4)", "size": "4"}]},{"name": "Leuconostocaceae (3)", "size": "3", "children": [{"name": "Leuconostoc (3)", "size": "3", "children": [{"name": "unassigned Leuconostoc (3)", "size": "3"}]}]},{"name": "Aerococcaceae (1)", "size": "1", "children": [{"name": "Aerococcus (1)", "size": "1", "children": [{"name": "unassigned Aerococcus (1)", "size": "1"}]}]},{"name": "Carnobacteriaceae (2)", "size": "2", "children": [{"name": "Jeotgalibaca (2)", "size": "2", "children": [{"name": "unassigned Jeotgalibaca (2)", "size": "2"}]}]},{"name": "unassigned Lactobacillales (4)", "size": "4"}]},{"name": "unassigned Bacilli (3)", "size": "3"}]},{"name": "Clostridia (19587)", "size": "19587", "children": [{"name": "Thermoanaerobacterales (3)", "size": "3", "children": [{"name": "Thermoanaerobacteraceae (1)", "size": "1", "children": [{"name": "Thermoanaerobacter (1)", "size": "1", "children": [{"name": "Thermoanaerobacter wiegelii (1)", "size": "1"}]}]},{"name": "Thermodesulfobiaceae (2)", "size": "2", "children": [{"name": "Thermodesulfobium (2)", "size": "2", "children": [{"name": "unassigned Thermodesulfobium (2)", "size": "2"}]}]}]},{"name": "Clostridiales (19563)", "size": "19563", "children": [{"name": "Clostridiaceae (463)", "size": "463", "children": [{"name": "Clostridium (415)", "size": "415", "children": [{"name": "Clostridium acetobutylicum (2)", "size": "2"},{"name": "Clostridium botulinum (170)", "size": "170"},{"name": "Clostridium cellulovorans (3)", "size": "3"},{"name": "Clostridium pasteurianum (1)", "size": "1"},{"name": "Clostridium perfringens (4)", "size": "4"},{"name": "Clostridium septicum (49)", "size": "49"},{"name": "Clostridium beijerinckii (1)", "size": "1"},{"name": "Clostridium baratii (1)", "size": "1"},{"name": "Clostridium argentinense (73)", "size": "73"},{"name": "Clostridium intestinale (1)", "size": "1"},{"name": "Clostridium isatidis (9)", "size": "9"},{"name": "Clostridium estertheticum (27)", "size": "27"},{"name": "Clostridium drakei (28)", "size": "28"},{"name": "Clostridium bornimense (3)", "size": "3"},{"name": "Clostridium thermarum (2)", "size": "2"},{"name": "Clostridium sp. SY8519 (6)", "size": "6"},{"name": "Clostridium sp. \'deep sea\' (1)", "size": "1"},{"name": "unassigned Clostridium (34)", "size": "34"}]},{"name": "Caloramator (18)", "size": "18", "children": [{"name": "Caloramator sp. E03 (18)", "size": "18"}]},{"name": "Candidatus Arthromitus (1)", "size": "1", "children": [{"name": "unassigned Candidatus Arthromitus (1)", "size": "1"}]},{"name": "Caloranaerobacter (2)", "size": "2", "children": [{"name": "Caloranaerobacter azorensis (2)", "size": "2"}]},{"name": "Geosporobacter (2)", "size": "2", "children": [{"name": "Geosporobacter ferrireducens (2)", "size": "2"}]},{"name": "Hungatella (22)", "size": "22", "children": [{"name": "Hungatella hathewayi (22)", "size": "22"}]},{"name": "unassigned Clostridiaceae (3)", "size": "3"}]},{"name": "Heliobacteriaceae (35)", "size": "35", "children": [{"name": "Heliorestis (35)", "size": "35", "children": [{"name": "Heliorestis convoluta (35)", "size": "35"}]}]},{"name": "Lachnospiraceae (8530)", "size": "8530", "children": [{"name": "Butyrivibrio (222)", "size": "222", "children": [{"name": "Butyrivibrio proteoclasticus (27)", "size": "27"},{"name": "Butyrivibrio hungatei (173)", "size": "173"},{"name": "unassigned Butyrivibrio (22)", "size": "22"}]},{"name": "Roseburia (2765)", "size": "2765", "children": [{"name": "Roseburia intestinalis (1800)", "size": "1800"},{"name": "Roseburia hominis (775)", "size": "775"},{"name": "unassigned Roseburia (190)", "size": "190"}]},{"name": "Lachnospira (423)", "size": "423", "children": [{"name": "Lachnospira eligens (423)", "size": "423"}]},{"name": "Pseudobutyrivibrio (14)", "size": "14", "children": [{"name": "Pseudobutyrivibrio xylanivorans (14)", "size": "14"}]},{"name": "Anaerostipes (252)", "size": "252", "children": [{"name": "Anaerostipes caccae (11)", "size": "11"},{"name": "Anaerostipes hadrus (116)", "size": "116"},{"name": "Anaerostipes rhamnosivorans (105)", "size": "105"},{"name": "unassigned Anaerostipes (20)", "size": "20"}]},{"name": "Blautia (2589)", "size": "2589", "children": [{"name": "Blautia producta (7)", "size": "7"},{"name": "Blautia argi (707)", "size": "707"},{"name": "Blautia sp. SC05B48 (537)", "size": "537"},{"name": "Blautia sp. LZLJ-3 (23)", "size": "23"},{"name": "unassigned Blautia (1315)", "size": "1315"}]},{"name": "Lachnoanaerobaculum (258)", "size": "258", "children": [{"name": "Lachnoanaerobaculum umeaense (258)", "size": "258"}]},{"name": "Lachnoclostridium (458)", "size": "458", "children": [{"name": "[Clostridium] scindens (3)", "size": "3"},{"name": "Lachnoclostridium phytofermentans (1)", "size": "1"},{"name": "[Clostridium] hylemonae (110)", "size": "110"},{"name": "Lachnoclostridium phocaeense (338)", "size": "338"},{"name": "unassigned Lachnoclostridium (6)", "size": "6"}]},{"name": "Herbinix (19)", "size": "19", "children": [{"name": "Herbinix luporum (19)", "size": "19"}]},{"name": "Anaerocolumna (590)", "size": "590", "children": [{"name": "Anaerocolumna cellulosilytica (583)", "size": "583"},{"name": "Anaerocolumna sp. CBA3638 (6)", "size": "6"},{"name": "unassigned Anaerocolumna (1)", "size": "1"}]},{"name": "Anaerotignum (43)", "size": "43", "children": [{"name": "Anaerotignum propionicum (43)", "size": "43"}]},{"name": "Mediterraneibacter (31)", "size": "31", "children": [{"name": "[Ruminococcus] gnavus (31)", "size": "31"}]},{"name": "Anaerobutyricum (304)", "size": "304", "children": [{"name": "Anaerobutyricum hallii (304)", "size": "304"}]},{"name": "Lacrimispora (19)", "size": "19", "children": [{"name": "unassigned Lacrimispora (19)", "size": "19"}]},{"name": "Enterocloster (4)", "size": "4", "children": [{"name": "Enterocloster clostridioformis (4)", "size": "4"}]},{"name": "unassigned Lachnospiraceae (539)", "size": "539"}]},{"name": "Peptostreptococcaceae (31)", "size": "31", "children": [{"name": "Filifactor (8)", "size": "8", "children": [{"name": "Filifactor alocis (8)", "size": "8"}]},{"name": "Acetoanaerobium (1)", "size": "1", "children": [{"name": "Acetoanaerobium sticklandii (1)", "size": "1"}]},{"name": "Peptoclostridium (1)", "size": "1", "children": [{"name": "Peptoclostridium acidaminophilum (1)", "size": "1"}]},{"name": "Romboutsia (1)", "size": "1", "children": [{"name": "Romboutsia ilealis (1)", "size": "1"}]},{"name": "Paeniclostridium (6)", "size": "6", "children": [{"name": "Paeniclostridium sordellii (6)", "size": "6"}]},{"name": "Peptacetobacter (1)", "size": "1", "children": [{"name": "Peptacetobacter hiranonis (1)", "size": "1"}]},{"name": "unassigned Peptostreptococcaceae (13)", "size": "13"}]},{"name": "Eubacteriaceae (49)", "size": "49", "children": [{"name": "Eubacterium (37)", "size": "37", "children": [{"name": "[Eubacterium] cellulosolvens (34)", "size": "34"},{"name": "unassigned Eubacterium (3)", "size": "3"}]},{"name": "Acetobacterium (7)", "size": "7", "children": [{"name": "unassigned Acetobacterium (7)", "size": "7"}]},{"name": "unassigned Eubacteriaceae (5)", "size": "5"}]},{"name": "Peptococcaceae (3)", "size": "3", "children": [{"name": "Desulfotomaculum (1)", "size": "1", "children": [{"name": "Desulfotomaculum nigrificans (1)", "size": "1"}]},{"name": "Dehalobacterium (1)", "size": "1", "children": [{"name": "Dehalobacterium formicoaceticum (1)", "size": "1"}]},{"name": "Dehalobacter (1)", "size": "1", "children": [{"name": "Dehalobacter restrictus (1)", "size": "1"}]}]},{"name": "Oscillospiraceae (1066)", "size": "1066", "children": [{"name": "Oscillibacter (1023)", "size": "1023", "children": [{"name": "Oscillibacter valericigenes (392)", "size": "392"},{"name": "Oscillibacter sp. NSJ-62 (587)", "size": "587"},{"name": "unassigned Oscillibacter (44)", "size": "44"}]},{"name": "unassigned Oscillospiraceae (43)", "size": "43"}]},{"name": "Clostridiales Family XIII. Incertae Sedis (9)", "size": "9", "children": [{"name": "Mogibacterium (7)", "size": "7", "children": [{"name": "unassigned Mogibacterium (7)", "size": "7"}]},{"name": "Aminipila (2)", "size": "2", "children": [{"name": "unassigned Aminipila (2)", "size": "2"}]}]},{"name": "Clostridiales Family XVI. Incertae Sedis (1)", "size": "1", "children": [{"name": "Carboxydocella (1)", "size": "1", "children": [{"name": "Carboxydocella thermautotrophica (1)", "size": "1"}]}]},{"name": "Intestinimonas (65)", "size": "65", "children": [{"name": "Intestinimonas butyriciproducens (65)", "size": "65"}]},{"name": "Flintibacter (32)", "size": "32", "children": [{"name": "Flintibacter sp. KGMB00164 (32)", "size": "32"}]},{"name": "Monoglobus (109)", "size": "109", "children": [{"name": "Monoglobus pectinilyticus (109)", "size": "109"}]},{"name": "Massilistercora (25)", "size": "25", "children": [{"name": "Massilistercora timonensis (25)", "size": "25"}]},{"name": "Ruminococcaceae (8450)", "size": "8450", "children": [{"name": "Ruminococcus (2451)", "size": "2451", "children": [{"name": "Ruminococcus albus (1)", "size": "1"},{"name": "Ruminococcus bicirculans (3)", "size": "3"},{"name": "Ruminococcus champanellensis (1231)", "size": "1231"},{"name": "Ruminococcus sp. JE7A12 (2)", "size": "2"},{"name": "unassigned Ruminococcus (1214)", "size": "1214"}]},{"name": "Faecalibacterium (4163)", "size": "4163", "children": [{"name": "Faecalibacterium prausnitzii (4163)", "size": "4163"}]},{"name": "Ethanoligenens (16)", "size": "16", "children": [{"name": "Ethanoligenens harbinense (16)", "size": "16"}]},{"name": "Flavonifractor (103)", "size": "103", "children": [{"name": "Flavonifractor plautii (103)", "size": "103"}]},{"name": "Caproiciproducens (465)", "size": "465", "children": [{"name": "Caproiciproducens sp. 7D4C2 (1)", "size": "1"},{"name": "unassigned Caproiciproducens (464)", "size": "464"}]},{"name": "Ruthenibacterium (1016)", "size": "1016", "children": [{"name": "Ruthenibacterium lactatiformans (1016)", "size": "1016"}]},{"name": "Acutalibacter (48)", "size": "48", "children": [{"name": "Acutalibacter muris (48)", "size": "48"}]},{"name": "unassigned Ruminococcaceae (188)", "size": "188"}]},{"name": "Christensenellaceae (16)", "size": "16", "children": [{"name": "Christensenella (16)", "size": "16", "children": [{"name": "Christensenella minuta (13)", "size": "13"},{"name": "Christensenella sp. Marseille-P3954 (3)", "size": "3"}]}]},{"name": "Hungateiclostridiaceae (75)", "size": "75", "children": [{"name": "Fastidiosipila (4)", "size": "4", "children": [{"name": "Fastidiosipila sanguinis (4)", "size": "4"}]},{"name": "Thermoclostridium (1)", "size": "1", "children": [{"name": "Thermoclostridium stercorarium (1)", "size": "1"}]},{"name": "Hungateiclostridium (66)", "size": "66", "children": [{"name": "Hungateiclostridium saccincola (16)", "size": "16"},{"name": "unassigned Hungateiclostridium (50)", "size": "50"}]},{"name": "unassigned Hungateiclostridiaceae (4)", "size": "4"}]},{"name": "Vallitaleaceae (1)", "size": "1", "children": [{"name": "Petrocella (1)", "size": "1", "children": [{"name": "Petrocella atlantisensis (1)", "size": "1"}]}]},{"name": "unassigned Clostridiales (603)", "size": "603"}]},{"name": "unassigned Clostridia (21)", "size": "21"}]},{"name": "Erysipelotrichia (226)", "size": "226", "children": [{"name": "Erysipelotrichales (226)", "size": "226", "children": [{"name": "Erysipelotrichaceae (226)", "size": "226", "children": [{"name": "Erysipelothrix (1)", "size": "1", "children": [{"name": "Erysipelothrix larvae (1)", "size": "1"}]},{"name": "Turicibacter (2)", "size": "2", "children": [{"name": "Turicibacter sanguinis (1)", "size": "1"},{"name": "Turicibacter sp. H121 (1)", "size": "1"}]},{"name": "Erysipelatoclostridium (3)", "size": "3", "children": [{"name": "[Clostridium] innocuum (1)", "size": "1"},{"name": "Erysipelatoclostridium ramosum (2)", "size": "2"}]},{"name": "Faecalitalea (6)", "size": "6", "children": [{"name": "Faecalitalea cylindroides (6)", "size": "6"}]},{"name": "Longibaculum (198)", "size": "198", "children": [{"name": "Longibaculum sp. KGMB06250 (198)", "size": "198"}]},{"name": "Intestinibaculum (16)", "size": "16", "children": [{"name": "Intestinibaculum porci (16)", "size": "16"}]}]}]}]},{"name": "Negativicutes (168)", "size": "168", "children": [{"name": "Selenomonadales (10)", "size": "10", "children": [{"name": "Sporomusaceae (9)", "size": "9", "children": [{"name": "Methylomusa (9)", "size": "9", "children": [{"name": "Methylomusa anaerophila (9)", "size": "9"}]}]},{"name": "Selenomonadaceae (1)", "size": "1", "children": [{"name": "unassigned Selenomonadaceae (1)", "size": "1"}]}]},{"name": "Acidaminococcales (119)", "size": "119", "children": [{"name": "Acidaminococcaceae (119)", "size": "119", "children": [{"name": "Phascolarctobacterium (118)", "size": "118", "children": [{"name": "Phascolarctobacterium faecium (118)", "size": "118"}]},{"name": "unassigned Acidaminococcaceae (1)", "size": "1"}]}]},{"name": "Veillonellales (39)", "size": "39", "children": [{"name": "Veillonellaceae (39)", "size": "39", "children": [{"name": "Dialister (38)", "size": "38", "children": [{"name": "unassigned Dialister (38)", "size": "38"}]},{"name": "unassigned Veillonellaceae (1)", "size": "1"}]}]}]},{"name": "Limnochordia (16)", "size": "16", "children": [{"name": "Limnochordales (16)", "size": "16", "children": [{"name": "Limnochordaceae (16)", "size": "16", "children": [{"name": "Limnochorda (16)", "size": "16", "children": [{"name": "Limnochorda pilosa (16)", "size": "16"}]}]}]}]},{"name": "Tissierellia (5)", "size": "5", "children": [{"name": "Tissierellales (5)", "size": "5", "children": [{"name": "Peptoniphilaceae (4)", "size": "4", "children": [{"name": "Finegoldia (1)", "size": "1", "children": [{"name": "Finegoldia magna (1)", "size": "1"}]},{"name": "Peptoniphilus (2)", "size": "2", "children": [{"name": "Peptoniphilus ivorii (1)", "size": "1"},{"name": "Peptoniphilus sp. ING2-D1G (1)", "size": "1"}]},{"name": "Parvimonas (1)", "size": "1", "children": [{"name": "Parvimonas micra (1)", "size": "1"}]}]},{"name": "unassigned Tissierellales (1)", "size": "1"}]}]},{"name": "unassigned Firmicutes (37)", "size": "37"}]},{"name": "Chloroflexi (1)", "size": "1", "children": [{"name": "unassigned Chloroflexi (1)", "size": "1"}]},{"name": "Actinobacteria (628)", "size": "628", "children": [{"name": "Actinobacteria (501)", "size": "501", "children": [{"name": "Actinomycetales (4)", "size": "4", "children": [{"name": "Actinomycetaceae (4)", "size": "4", "children": [{"name": "Schaalia (4)", "size": "4", "children": [{"name": "Schaalia odontolytica (4)", "size": "4"}]}]}]},{"name": "Bifidobacteriales (466)", "size": "466", "children": [{"name": "Bifidobacteriaceae (466)", "size": "466", "children": [{"name": "Bifidobacterium (460)", "size": "460", "children": [{"name": "Bifidobacterium adolescentis (1)", "size": "1"},{"name": "Bifidobacterium angulatum (1)", "size": "1"},{"name": "Bifidobacterium dentium (2)", "size": "2"},{"name": "Bifidobacterium animalis (2)", "size": "2"},{"name": "Bifidobacterium pullorum (1)", "size": "1"},{"name": "Bifidobacterium longum (17)", "size": "17"},{"name": "unassigned Bifidobacterium (436)", "size": "436"}]},{"name": "unassigned Bifidobacteriaceae (6)", "size": "6"}]}]},{"name": "Micrococcales (2)", "size": "2", "children": [{"name": "Micrococcaceae (2)", "size": "2", "children": [{"name": "Rothia (2)", "size": "2", "children": [{"name": "Rothia mucilaginosa (2)", "size": "2"}]}]}]},{"name": "Corynebacteriales (1)", "size": "1", "children": [{"name": "Nocardiaceae (1)", "size": "1", "children": [{"name": "Rhodococcus (1)", "size": "1", "children": [{"name": "unassigned Rhodococcus (1)", "size": "1"}]}]}]},{"name": "Streptosporangiales (24)", "size": "24", "children": [{"name": "Streptosporangiaceae (24)", "size": "24", "children": [{"name": "Nonomuraea (24)", "size": "24", "children": [{"name": "unassigned Nonomuraea (24)", "size": "24"}]}]}]},{"name": "unassigned Actinobacteria (4)", "size": "4"}]},{"name": "Rubrobacteria (1)", "size": "1", "children": [{"name": "Rubrobacterales (1)", "size": "1", "children": [{"name": "Rubrobacteraceae (1)", "size": "1", "children": [{"name": "Rubrobacter (1)", "size": "1", "children": [{"name": "unassigned Rubrobacter (1)", "size": "1"}]}]}]}]},{"name": "Coriobacteriia (125)", "size": "125", "children": [{"name": "Coriobacteriales (81)", "size": "81", "children": [{"name": "Coriobacteriaceae (80)", "size": "80", "children": [{"name": "Collinsella (80)", "size": "80", "children": [{"name": "Collinsella aerofaciens (80)", "size": "80"}]}]},{"name": "unassigned Coriobacteriales (1)", "size": "1"}]},{"name": "Eggerthellales (44)", "size": "44", "children": [{"name": "Eggerthellaceae (44)", "size": "44", "children": [{"name": "Adlercreutzia (4)", "size": "4", "children": [{"name": "unassigned Adlercreutzia (4)", "size": "4"}]},{"name": "Gordonibacter (5)", "size": "5", "children": [{"name": "unassigned Gordonibacter (5)", "size": "5"}]},{"name": "Phoenicibacter (32)", "size": "32", "children": [{"name": "Phoenicibacter congonensis (32)", "size": "32"}]},{"name": "unassigned Eggerthellaceae (3)", "size": "3"}]}]}]},{"name": "Nitriliruptoria (1)", "size": "1", "children": [{"name": "Egicoccales (1)", "size": "1", "children": [{"name": "Egicoccaceae (1)", "size": "1", "children": [{"name": "Egicoccus (1)", "size": "1", "children": [{"name": "Egicoccus halophilus (1)", "size": "1"}]}]}]}]}]},{"name": "Tenericutes (17)", "size": "17", "children": [{"name": "Mollicutes (17)", "size": "17", "children": [{"name": "Mycoplasmatales (17)", "size": "17", "children": [{"name": "Mycoplasmataceae (17)", "size": "17", "children": [{"name": "Mycoplasma (15)", "size": "15", "children": [{"name": "Mycoplasma conjunctivae (15)", "size": "15"}]},{"name": "Candidatus Hepatoplasma (2)", "size": "2", "children": [{"name": "Candidatus Hepatoplasma crinochetorum (2)", "size": "2"}]}]}]}]}]},{"name": "Cyanobacteria (5)", "size": "5", "children": [{"name": "Oscillatoriales (2)", "size": "2", "children": [{"name": "Microcoleaceae (1)", "size": "1", "children": [{"name": "Trichodesmium (1)", "size": "1", "children": [{"name": "Trichodesmium erythraeum (1)", "size": "1"}]}]},{"name": "Oscillatoriaceae (1)", "size": "1", "children": [{"name": "Oscillatoria (1)", "size": "1", "children": [{"name": "Oscillatoria acuminata (1)", "size": "1"}]}]}]},{"name": "Synechococcales (1)", "size": "1", "children": [{"name": "unassigned Synechococcales (1)", "size": "1"}]},{"name": "unassigned Cyanobacteria (2)", "size": "2"}]},{"name": "Coprothermobacterota (29)", "size": "29", "children": [{"name": "Coprothermobacteria (29)", "size": "29", "children": [{"name": "Coprothermobacterales (29)", "size": "29", "children": [{"name": "Coprothermobacteraceae (29)", "size": "29", "children": [{"name": "Coprothermobacter (29)", "size": "29", "children": [{"name": "Coprothermobacter proteolyticus (29)", "size": "29"}]}]}]}]}]},{"name": "unassigned Bacteria (196)", "size": "196"}]},{"name": "Archaea (44)", "size": "44", "children": [{"name": "Euryarchaeota (43)", "size": "43", "children": [{"name": "Methanobacteria (43)", "size": "43", "children": [{"name": "Methanobacteriales (43)", "size": "43", "children": [{"name": "Methanobacteriaceae (43)", "size": "43", "children": [{"name": "Methanobrevibacter (43)", "size": "43", "children": [{"name": "Methanobrevibacter smithii (43)", "size": "43"}]}]}]}]}]},{"name": "Candidatus Thermoplasmatota (1)", "size": "1", "children": [{"name": "Thermoplasmata (1)", "size": "1", "children": [{"name": "Methanomassiliicoccales (1)", "size": "1", "children": [{"name": "Methanomassiliicoccaceae (1)", "size": "1", "children": [{"name": "Methanomassiliicoccus (1)", "size": "1", "children": [{"name": "Candidatus Methanomassiliicoccus intestinalis (1)", "size": "1"}]}]}]}]}]}]}]}'
        );
        partition
            .value(function (d) {
                return d.size;
            })
            .nodes(root)
            .forEach(function (d) {
                d._children = d.children;
                d.sum = d.size;
                d.key = key(d);
                d.fill = fill(d);
            });
        partition
            .children(function (d, depth) {
                return depth < 2 ? d._children : null;
            })
            .value(function (d) {
                return d.sum;
            });
        var center = svg
            .append("circle")
            .attr("r", radius / 3)
            .on("click", zoomOut);
        center.append("title").text("zoom out");
        var partitioned_data = partition.nodes(root).slice(1);
        var path = svg
            .selectAll("path")
            .data(partitioned_data)
            .enter()
            .append("path")
            .attr("d", arc)
            .style("fill", function (d) {
                return d.fill;
            })
            .each(function (d) {
                this._current = updateArc(d);
            })
            .on("click", zoomIn)
            .on("mouseover", mouseOverArc)
            .on("mousemove", mouseMoveArc)
            .on("mouseout", mouseOutArc);
        var texts = svg
            .selectAll("text")
            .data(partitioned_data)
            .enter()
            .append("text")
            .filter(filter_min_arc_size_text)
            .attr("x", function (d) {
                return (radius / 3) * d.depth;
            })
            .attr("dx", "6")
            .attr("dy", ".35em")
            .attr("transform", function (d) {
                var rotation = computeTextRotation(d);
                if (rotation > -180 && rotation < 180) {
                    return "rotate(" + rotation + ")";
                } else {
                    return "rotate(" + rotation + ")";
                }
            })
            .text(function (d, i) {
                return d.name.split("(")[0];
            });
        function callTree(d_depth, iname, name) {
            if (d_depth > 2) {
                d_depth = 1;
            }
            var nodes = tree.nodes(tree_root).reverse(),
                links = tree.links(nodes);
            nodes.forEach(function (d) {
                d.y = d.depth * 180;
            });
            for (var i = 0; i < d_depth; i++) {
                for (var item of nodes) {
                    if (name == item.name) {
                        data = item;
                    }
                }
                click(data);
                d_depth -= 1;
                callTree(d_depth, iname, iname);
            }
        }
        function zoomIn(p) {
            var depth = p.depth;
            var initial_name = p.name;
            if (p.depth > 1) p = p.parent;
            if (!p.children) return;

            // --
            console.log("zoomIn P object", p);

            zoom(p, p);
            if (d3.event.target === this) {
                callTree(depth, initial_name, p.name);
            }
        }
        function zoomOut(p) {
            if (!p.parent) return;
            zoom(p.parent, p);
            if (d3.event.target === this) {
                var nodes = tree.nodes(tree_root).reverse();
                nodes.forEach(function (d) {
                    d.y = d.depth * 180;
                });
                var data = nodes;
                for (var item of nodes) {
                    if (p.name == item.name) {
                        data = item;
                    }
                }
                click(data);
            }
        }
        function zoom(root, p) {
            if (document.documentElement.__transition__) return;
            var enterArc,
                exitArc,
                outsideAngle = d3.scale.linear().domain([0, 2 * Math.PI]);
            function insideArc(d) {
                return p.key > d.key
                    ? { depth: d.depth - 1, x: 0, dx: 0 }
                    : p.key < d.key
                        ? { depth: d.depth - 1, x: 2 * Math.PI, dx: 0 }
                        : { depth: 0, x: 0, dx: 2 * Math.PI };
            }
            function outsideArc(d) {
                return {
                    depth: d.depth + 1,
                    x: outsideAngle(d.x),
                    dx: outsideAngle(d.x + d.dx) - outsideAngle(d.x),
                };
            }
            center.datum(root);
            if (root === p)
                (enterArc = outsideArc),
                    (exitArc = insideArc),
                    outsideAngle.range([p.x, p.x + p.dx]);
            var new_data = partition.nodes(root).slice(1);
            path = path.data(new_data, function (d) {
                return d.key;
            });
            if (root !== p)
                (enterArc = insideArc),
                    (exitArc = outsideArc),
                    outsideAngle.range([p.x, p.x + p.dx]);
            d3.transition()
                .duration(d3.event.altKey ? 7500 : 750)
                .each(function () {
                    path
                        .exit()
                        .transition()
                        .style("fill-opacity", function (d) {
                            return d.depth === 1 + (root === p) ? 1 : 0;
                        })
                        .attrTween("d", function (d) {
                            return arcTween.call(this, exitArc(d));
                        })
                        .remove();
                    path
                        .enter()
                        .append("path")
                        .style("fill-opacity", function (d) {
                            return d.depth === 2 - (root === p) ? 1 : 0;
                        })
                        .style("fill", function (d) {
                            return d.fill;
                        })
                        .on("click", zoomIn)
                        .on("mouseover", mouseOverArc)
                        .on("mousemove", mouseMoveArc)
                        .on("mouseout", mouseOutArc)
                        .each(function (d) {
                            this._current = enterArc(d);
                        });
                    path
                        .transition()
                        .style("fill-opacity", 1)
                        .attrTween("d", function (d) {
                            return arcTween.call(this, updateArc(d));
                        });
                });
            texts = texts.data(new_data, function (d) {
                return d.key;
            });
            texts.exit().remove();
            texts.enter().append("text");
            texts
                .style("opacity", 0)
                .attr("x", function (d) {
                    return (radius / 3) * d.depth;
                })
                .attr("dx", "6")
                .attr("dy", ".35em")
                .attr("transform", function (d) {
                    var rotation = computeTextRotation(d);
                    if (rotation > -180 && rotation < 180) {
                        return "rotate(" + rotation + ")";
                    } else {
                        return "rotate(" + rotation + ")";
                    }
                })
                .filter(filter_min_arc_size_text)
                .transition()
                .delay(750)
                .style("opacity", 1)
                .text(function (d, i) {
                    return d.name.split("(")[0];
                });
        }
        function key(d) {
            var k = [],
                p = d;
            while (p.depth) k.push(p.name), (p = p.parent);
            return k.reverse().join(".");
        }
        function fill(d) {
            var p = d;
            while (p.depth > 1) p = p.parent;
            var c = d3.lab(hue(p.name + d.name));
            c.l = luminance(d.sum / 1000 + p.sum);
            console.log(d.name + " " + c);
            return c;
        }
        function arcTween(b) {
            var i = d3.interpolate(this._current, b);
            this._current = i(0);
            return function (t) {
                return arc(i(t));
            };
        }
        function updateArc(d) {
            return { depth: d.depth, x: d.x, dx: d.dx };
        }
        d3.select(self.frameElement).style(
            "height",
            margin.top + margin.bottom + "px"
        );
        var t_margin = { top: 20, right: 120, bottom: 20, left: 120 },
            width = 1920 - t_margin.right - t_margin.left,
            height = 1080 - t_margin.top - t_margin.bottom;
        var i = 0,
            duration = 750,
            tree_root;
        var tree = d3.layout.tree().size([height, width]);
        var diagonal = d3.svg.diagonal().projection(function (d) {
            return [d.y, d.x];
        });
        var tree_svg = d3
            .select(".tree")
            .append("svg")
            .attr("width", width + t_margin.right + t_margin.left)
            .attr("height", height + t_margin.top + t_margin.bottom)
            .append("g")
            .attr(
                "transform",
                "translate(" + t_margin.left + "," + t_margin.top + ")"
            );
        tree_root = JSON.parse(
            '{"name": "root (32457)", "size": "32457", "children": [{"name": "Viruses (1)", "size": "1", "children": [{"name": "Sangervirae (1)", "size": "1", "children": [{"name": "Phixviricota (1)", "size": "1", "children": [{"name": "Malgrandaviricetes (1)", "size": "1", "children": [{"name": "Petitvirales (1)", "size": "1", "children": [{"name": "Microviridae (1)", "size": "1", "children": [{"name": "Gequatrovirus (1)", "size": "1", "children": [{"name": "Escherichia virus Talmos (1)", "size": "1"}]}]}]}]}]}]}]},{"name": "Bacteria (32408)", "size": "32408", "children": [{"name": "Proteobacteria (2060)", "size": "2060", "children": [{"name": "Gammaproteobacteria (488)", "size": "488", "children": [{"name": "Pseudomonadales (324)", "size": "324", "children": [{"name": "Moraxellaceae (323)", "size": "323", "children": [{"name": "Acinetobacter (322)", "size": "322", "children": [{"name": "Acinetobacter haemolyticus (322)", "size": "322"}]},{"name": "Psychrobacter (1)", "size": "1", "children": [{"name": "unassigned Psychrobacter (1)", "size": "1"}]}]},{"name": "Pseudomonadaceae (1)", "size": "1", "children": [{"name": "Pseudomonas (1)", "size": "1", "children": [{"name": "unassigned Pseudomonas (1)", "size": "1"}]}]}]},{"name": "Enterobacterales (2)", "size": "2", "children": [{"name": "Pectobacteriaceae (1)", "size": "1", "children": [{"name": "Pectobacterium (1)", "size": "1", "children": [{"name": "Pectobacterium parmentieri (1)", "size": "1"}]}]},{"name": "unassigned Enterobacterales (1)", "size": "1"}]},{"name": "Chromatiales (1)", "size": "1", "children": [{"name": "Ectothiorhodospiraceae (1)", "size": "1", "children": [{"name": "unassigned Ectothiorhodospiraceae (1)", "size": "1"}]}]},{"name": "Oceanospirillales (155)", "size": "155", "children": [{"name": "Halomonadaceae (155)", "size": "155", "children": [{"name": "Candidatus Carsonella (155)", "size": "155", "children": [{"name": "Candidatus Carsonella ruddii (155)", "size": "155"}]}]}]},{"name": "Vibrionales (2)", "size": "2", "children": [{"name": "Vibrionaceae (2)", "size": "2", "children": [{"name": "Vibrio (2)", "size": "2", "children": [{"name": "unassigned Vibrio (2)", "size": "2"}]}]}]},{"name": "Pasteurellales (1)", "size": "1", "children": [{"name": "Pasteurellaceae (1)", "size": "1", "children": [{"name": "Actinobacillus (1)", "size": "1", "children": [{"name": "Actinobacillus pleuropneumoniae (1)", "size": "1"}]}]}]},{"name": "unassigned Gammaproteobacteria (3)", "size": "3"}]},{"name": "Alphaproteobacteria (1324)", "size": "1324", "children": [{"name": "Rhizobiales (14)", "size": "14", "children": [{"name": "Bradyrhizobiaceae (1)", "size": "1", "children": [{"name": "Bosea (1)", "size": "1", "children": [{"name": "Bosea sp. Tri-49 (1)", "size": "1"}]}]},{"name": "Hyphomicrobiaceae (12)", "size": "12", "children": [{"name": "Rhodomicrobium (1)", "size": "1", "children": [{"name": "Rhodomicrobium vannielii (1)", "size": "1"}]},{"name": "Devosia (11)", "size": "11", "children": [{"name": "Devosia sp. S02 (11)", "size": "11"}]}]},{"name": "Candidatus Hodgkinia (1)", "size": "1", "children": [{"name": "Candidatus Hodgkinia cicadicola (1)", "size": "1"}]}]},{"name": "Rickettsiales (3)", "size": "3", "children": [{"name": "Rickettsiaceae (3)", "size": "3", "children": [{"name": "Orientia (1)", "size": "1", "children": [{"name": "Orientia tsutsugamushi (1)", "size": "1"}]},{"name": "Candidatus Sneabacter (2)", "size": "2", "children": [{"name": "Candidatus Sneabacter namystus (2)", "size": "2"}]}]}]},{"name": "Rhodospirillales (1298)", "size": "1298", "children": [{"name": "Acetobacteraceae (2)", "size": "2", "children": [{"name": "Commensalibacter (1)", "size": "1", "children": [{"name": "unassigned Commensalibacter (1)", "size": "1"}]},{"name": "unassigned Acetobacteraceae (1)", "size": "1"}]},{"name": "Rhodospirillaceae (1268)", "size": "1268", "children": [{"name": "Niveispirillum (3)", "size": "3", "children": [{"name": "Niveispirillum cyanobacteriorum (3)", "size": "3"}]},{"name": "Haematospirillum (1264)", "size": "1264", "children": [{"name": "Haematospirillum jordaniae (1264)", "size": "1264"}]},{"name": "unassigned Rhodospirillaceae (1)", "size": "1"}]},{"name": "unassigned Rhodospirillales (28)", "size": "28"}]},{"name": "Sphingomonadales (1)", "size": "1", "children": [{"name": "Erythrobacteraceae (1)", "size": "1", "children": [{"name": "unassigned Erythrobacteraceae (1)", "size": "1"}]}]},{"name": "Caulobacterales (1)", "size": "1", "children": [{"name": "Caulobacteraceae (1)", "size": "1", "children": [{"name": "Asticcacaulis (1)", "size": "1", "children": [{"name": "Asticcacaulis excentricus (1)", "size": "1"}]}]}]},{"name": "Emcibacterales (1)", "size": "1", "children": [{"name": "Emcibacteraceae (1)", "size": "1", "children": [{"name": "Emcibacter (1)", "size": "1", "children": [{"name": "unassigned Emcibacter (1)", "size": "1"}]}]}]},{"name": "unassigned Alphaproteobacteria (6)", "size": "6"}]},{"name": "Betaproteobacteria (195)", "size": "195", "children": [{"name": "Nitrosomonadales (3)", "size": "3", "children": [{"name": "Nitrosomonadaceae (3)", "size": "3", "children": [{"name": "Nitrosomonas (3)", "size": "3", "children": [{"name": "unassigned Nitrosomonas (3)", "size": "3"}]}]}]},{"name": "Burkholderiales (192)", "size": "192", "children": [{"name": "Alcaligenaceae (1)", "size": "1", "children": [{"name": "unassigned Alcaligenaceae (1)", "size": "1"}]},{"name": "Burkholderiaceae (9)", "size": "9", "children": [{"name": "Ralstonia (1)", "size": "1", "children": [{"name": "Ralstonia solanacearum (1)", "size": "1"}]},{"name": "Chitinimonas (1)", "size": "1", "children": [{"name": "Chitinimonas arctica (1)", "size": "1"}]},{"name": "Mycoavidus (7)", "size": "7", "children": [{"name": "unassigned Mycoavidus (7)", "size": "7"}]}]},{"name": "Sutterellaceae (1)", "size": "1", "children": [{"name": "Sutterella (1)", "size": "1", "children": [{"name": "Sutterella megalosphaeroides (1)", "size": "1"}]}]},{"name": "unassigned Burkholderiales (181)", "size": "181"}]}]},{"name": "Deltaproteobacteria (51)", "size": "51", "children": [{"name": "Desulfovibrionales (41)", "size": "41", "children": [{"name": "Desulfovibrionaceae (39)", "size": "39", "children": [{"name": "Desulfovibrio (38)", "size": "38", "children": [{"name": "Desulfovibrio alaskensis (36)", "size": "36"},{"name": "unassigned Desulfovibrio (2)", "size": "2"}]},{"name": "unassigned Desulfovibrionaceae (1)", "size": "1"}]},{"name": "unassigned Desulfovibrionales (2)", "size": "2"}]},{"name": "Syntrophobacterales (10)", "size": "10", "children": [{"name": "Syntrophaceae (10)", "size": "10", "children": [{"name": "Desulfobacca (10)", "size": "10", "children": [{"name": "Desulfobacca acetoxidans (10)", "size": "10"}]}]}]}]},{"name": "Epsilonproteobacteria (1)", "size": "1", "children": [{"name": "Campylobacterales (1)", "size": "1", "children": [{"name": "Campylobacteraceae (1)", "size": "1", "children": [{"name": "Halarcobacter (1)", "size": "1", "children": [{"name": "Halarcobacter bivalviorum (1)", "size": "1"}]}]}]}]},{"name": "unassigned Proteobacteria (1)", "size": "1"}]},{"name": "Fusobacteria (3)", "size": "3", "children": [{"name": "Fusobacteriia (3)", "size": "3", "children": [{"name": "Fusobacteriales (3)", "size": "3", "children": [{"name": "Fusobacteriaceae (3)", "size": "3", "children": [{"name": "Fusobacterium (3)", "size": "3", "children": [{"name": "Fusobacterium mortiferum (2)", "size": "2"},{"name": "Fusobacterium nucleatum (1)", "size": "1"}]}]}]}]}]},{"name": "Acidobacteria (32)", "size": "32", "children": [{"name": "Acidobacteriia (32)", "size": "32", "children": [{"name": "Bryobacterales (32)", "size": "32", "children": [{"name": "Solibacteraceae (32)", "size": "32", "children": [{"name": "Candidatus Solibacter (32)", "size": "32", "children": [{"name": "Candidatus Solibacter usitatus (32)", "size": "32"}]}]}]}]}]},{"name": "Synergistetes (5)", "size": "5", "children": [{"name": "Synergistia (5)", "size": "5", "children": [{"name": "Synergistales (5)", "size": "5", "children": [{"name": "Synergistaceae (5)", "size": "5", "children": [{"name": "Cloacibacillus (5)", "size": "5", "children": [{"name": "Cloacibacillus porcorum (5)", "size": "5"}]}]}]}]}]},{"name": "Verrucomicrobia (2)", "size": "2", "children": [{"name": "Opitutae (2)", "size": "2", "children": [{"name": "Puniceicoccales (2)", "size": "2", "children": [{"name": "Puniceicoccaceae (2)", "size": "2", "children": [{"name": "Coraliomargarita (2)", "size": "2", "children": [{"name": "Coraliomargarita akajimensis (2)", "size": "2"}]}]}]}]}]},{"name": "Kiritimatiellaeota (1)", "size": "1", "children": [{"name": "Kiritimatiellae (1)", "size": "1", "children": [{"name": "Kiritimatiellales (1)", "size": "1", "children": [{"name": "Kiritimatiellaceae (1)", "size": "1", "children": [{"name": "Kiritimatiella (1)", "size": "1", "children": [{"name": "Kiritimatiella glycovorans (1)", "size": "1"}]}]}]}]}]},{"name": "Fibrobacteres (2)", "size": "2", "children": [{"name": "Fibrobacteria (2)", "size": "2", "children": [{"name": "Fibrobacterales (2)", "size": "2", "children": [{"name": "Fibrobacteraceae (2)", "size": "2", "children": [{"name": "Fibrobacter (2)", "size": "2", "children": [{"name": "Fibrobacter succinogenes (2)", "size": "2"}]}]}]}]}]},{"name": "Bacteroidetes (9292)", "size": "9292", "children": [{"name": "Flavobacteriia (51)", "size": "51", "children": [{"name": "Flavobacteriales (51)", "size": "51", "children": [{"name": "Flavobacteriaceae (5)", "size": "5", "children": [{"name": "Muricauda (3)", "size": "3", "children": [{"name": "unassigned Muricauda (3)", "size": "3"}]},{"name": "Croceibacter (1)", "size": "1", "children": [{"name": "Croceibacter atlanticus (1)", "size": "1"}]},{"name": "unassigned Flavobacteriaceae (1)", "size": "1"}]},{"name": "Candidatus Sulcia (2)", "size": "2", "children": [{"name": "Candidatus Sulcia muelleri (2)", "size": "2"}]},{"name": "Weeksellaceae (1)", "size": "1", "children": [{"name": "Cruoricaptor (1)", "size": "1", "children": [{"name": "Cruoricaptor ignavus (1)", "size": "1"}]}]},{"name": "unassigned Flavobacteriales (43)", "size": "43"}]}]},{"name": "Sphingobacteriia (39)", "size": "39", "children": [{"name": "Sphingobacteriales (39)", "size": "39", "children": [{"name": "Sphingobacteriaceae (39)", "size": "39", "children": [{"name": "Solitalea (2)", "size": "2", "children": [{"name": "Solitalea canadensis (2)", "size": "2"}]},{"name": "unassigned Sphingobacteriaceae (37)", "size": "37"}]}]}]},{"name": "Bacteroidia (9192)", "size": "9192", "children": [{"name": "Bacteroidales (9192)", "size": "9192", "children": [{"name": "Bacteroidaceae (1934)", "size": "1934", "children": [{"name": "Bacteroides (1934)", "size": "1934", "children": [{"name": "Bacteroides uniformis (537)", "size": "537"},{"name": "Bacteroides heparinolyticus (175)", "size": "175"},{"name": "Bacteroides ovatus (56)", "size": "56"},{"name": "Bacteroides zoogleoformans (3)", "size": "3"},{"name": "Bacteroides caccae (464)", "size": "464"},{"name": "Bacteroides cellulosilyticus (6)", "size": "6"},{"name": "Bacteroides helcogenes (2)", "size": "2"},{"name": "Bacteroides intestinalis (239)", "size": "239"},{"name": "unassigned Bacteroides (452)", "size": "452"}]}]},{"name": "Rikenellaceae (1416)", "size": "1416", "children": [{"name": "Alistipes (1415)", "size": "1415", "children": [{"name": "Alistipes finegoldii (188)", "size": "188"},{"name": "Alistipes onderdonkii (476)", "size": "476"},{"name": "Alistipes shahii (31)", "size": "31"},{"name": "Alistipes indistinctus (10)", "size": "10"},{"name": "Alistipes communis (126)", "size": "126"},{"name": "Alistipes dispar (7)", "size": "7"},{"name": "Alistipes sp. dk3624 (10)", "size": "10"},{"name": "unassigned Alistipes (567)", "size": "567"}]},{"name": "unassigned Rikenellaceae (1)", "size": "1"}]},{"name": "Porphyromonadaceae (2)", "size": "2", "children": [{"name": "Porphyromonas (2)", "size": "2", "children": [{"name": "Porphyromonas asaccharolytica (1)", "size": "1"},{"name": "Porphyromonas cangingivalis (1)", "size": "1"}]}]},{"name": "Prevotellaceae (26)", "size": "26", "children": [{"name": "Prevotella (14)", "size": "14", "children": [{"name": "Prevotella intermedia (1)", "size": "1"},{"name": "Prevotella oris (12)", "size": "12"},{"name": "unassigned Prevotella (1)", "size": "1"}]},{"name": "Paraprevotella (1)", "size": "1", "children": [{"name": "Paraprevotella xylaniphila (1)", "size": "1"}]},{"name": "Alloprevotella (11)", "size": "11", "children": [{"name": "Alloprevotella sp. E39 (11)", "size": "11"}]}]},{"name": "Phocaeicola (5419)", "size": "5419", "children": [{"name": "Phocaeicola vulgatus (4631)", "size": "4631"},{"name": "Phocaeicola dorei (694)", "size": "694"},{"name": "Phocaeicola salanitronis (4)", "size": "4"},{"name": "unassigned Phocaeicola (90)", "size": "90"}]},{"name": "Odoribacteraceae (61)", "size": "61", "children": [{"name": "Odoribacter (34)", "size": "34", "children": [{"name": "Odoribacter splanchnicus (34)", "size": "34"}]},{"name": "Butyricimonas (27)", "size": "27", "children": [{"name": "Butyricimonas faecalis (27)", "size": "27"}]}]},{"name": "Muribaculaceae (196)", "size": "196", "children": [{"name": "Muribaculum (91)", "size": "91", "children": [{"name": "Muribaculum sp. TLL-A4 (1)", "size": "1"},{"name": "unassigned Muribaculum (90)", "size": "90"}]},{"name": "unassigned Muribaculaceae (105)", "size": "105"}]},{"name": "Dysgonomonadaceae (44)", "size": "44", "children": [{"name": "Dysgonomonas (43)", "size": "43", "children": [{"name": "unassigned Dysgonomonas (43)", "size": "43"}]},{"name": "Proteiniphilum (1)", "size": "1", "children": [{"name": "Proteiniphilum saccharofermentans (1)", "size": "1"}]}]},{"name": "Tannerellaceae (78)", "size": "78", "children": [{"name": "Tannerella (3)", "size": "3", "children": [{"name": "Tannerella sp. oral taxon HOT-286 (1)", "size": "1"},{"name": "unassigned Tannerella (2)", "size": "2"}]},{"name": "Parabacteroides (74)", "size": "74", "children": [{"name": "Parabacteroides distasonis (1)", "size": "1"},{"name": "unassigned Parabacteroides (73)", "size": "73"}]},{"name": "unassigned Tannerellaceae (1)", "size": "1"}]},{"name": "unassigned Bacteroidales (16)", "size": "16"}]}]},{"name": "Chitinophagia (3)", "size": "3", "children": [{"name": "Chitinophagales (3)", "size": "3", "children": [{"name": "Chitinophagaceae (3)", "size": "3", "children": [{"name": "Niabella (2)", "size": "2", "children": [{"name": "Niabella ginsenosidivorans (2)", "size": "2"}]},{"name": "Flavisolibacter (1)", "size": "1", "children": [{"name": "Flavisolibacter sp. 17J28-1 (1)", "size": "1"}]}]}]}]},{"name": "Saprospiria (2)", "size": "2", "children": [{"name": "Saprospirales (2)", "size": "2", "children": [{"name": "Haliscomenobacteraceae (2)", "size": "2", "children": [{"name": "Haliscomenobacter (2)", "size": "2", "children": [{"name": "Haliscomenobacter hydrossis (2)", "size": "2"}]}]}]}]},{"name": "unassigned Bacteroidetes (5)", "size": "5"}]},{"name": "Ignavibacteriae (3)", "size": "3", "children": [{"name": "Ignavibacteria (3)", "size": "3", "children": [{"name": "Ignavibacteriales (3)", "size": "3", "children": [{"name": "Melioribacteraceae (3)", "size": "3", "children": [{"name": "Melioribacter (3)", "size": "3", "children": [{"name": "Melioribacter roseus (3)", "size": "3"}]}]}]}]}]},{"name": "Firmicutes (20132)", "size": "20132", "children": [{"name": "Bacilli (93)", "size": "93", "children": [{"name": "Bacillales (69)", "size": "69", "children": [{"name": "Staphylococcaceae (2)", "size": "2", "children": [{"name": "Staphylococcus (2)", "size": "2", "children": [{"name": "Staphylococcus aureus (2)", "size": "2"}]}]},{"name": "Bacillaceae (4)", "size": "4", "children": [{"name": "Bacillus (2)", "size": "2", "children": [{"name": "Bacillus amyloliquefaciens (2)", "size": "2"}]},{"name": "Geobacillus (1)", "size": "1", "children": [{"name": "Geobacillus sp. 46C-IIa (1)", "size": "1"}]},{"name": "Anoxybacillus (1)", "size": "1", "children": [{"name": "Anoxybacillus gonensis (1)", "size": "1"}]}]},{"name": "Listeriaceae (1)", "size": "1", "children": [{"name": "Brochothrix (1)", "size": "1", "children": [{"name": "Brochothrix thermosphacta (1)", "size": "1"}]}]},{"name": "Paenibacillaceae (1)", "size": "1", "children": [{"name": "Paenibacillus (1)", "size": "1", "children": [{"name": "Paenibacillus mucilaginosus (1)", "size": "1"}]}]},{"name": "Thermoactinomycetaceae (16)", "size": "16", "children": [{"name": "Laceyella (2)", "size": "2", "children": [{"name": "Laceyella sacchari (2)", "size": "2"}]},{"name": "Staphylospora (14)", "size": "14", "children": [{"name": "Staphylospora marina (14)", "size": "14"}]}]},{"name": "unassigned Bacillales (45)", "size": "45"}]},{"name": "Lactobacillales (21)", "size": "21", "children": [{"name": "Streptococcaceae (2)", "size": "2", "children": [{"name": "Streptococcus (2)", "size": "2", "children": [{"name": "Streptococcus respiraculi (1)", "size": "1"},{"name": "unassigned Streptococcus (1)", "size": "1"}]}]},{"name": "Lactobacillaceae (9)", "size": "9", "children": [{"name": "Lactobacillus (2)", "size": "2", "children": [{"name": "Lactobacillus delbrueckii (1)", "size": "1"},{"name": "unassigned Lactobacillus (1)", "size": "1"}]},{"name": "Limosilactobacillus (1)", "size": "1", "children": [{"name": "Limosilactobacillus fermentum (1)", "size": "1"}]},{"name": "Lactiplantibacillus (1)", "size": "1", "children": [{"name": "Lactiplantibacillus plantarum (1)", "size": "1"}]},{"name": "Lentilactobacillus (1)", "size": "1", "children": [{"name": "Lentilactobacillus buchneri (1)", "size": "1"}]},{"name": "unassigned Lactobacillaceae (4)", "size": "4"}]},{"name": "Leuconostocaceae (3)", "size": "3", "children": [{"name": "Leuconostoc (3)", "size": "3", "children": [{"name": "unassigned Leuconostoc (3)", "size": "3"}]}]},{"name": "Aerococcaceae (1)", "size": "1", "children": [{"name": "Aerococcus (1)", "size": "1", "children": [{"name": "unassigned Aerococcus (1)", "size": "1"}]}]},{"name": "Carnobacteriaceae (2)", "size": "2", "children": [{"name": "Jeotgalibaca (2)", "size": "2", "children": [{"name": "unassigned Jeotgalibaca (2)", "size": "2"}]}]},{"name": "unassigned Lactobacillales (4)", "size": "4"}]},{"name": "unassigned Bacilli (3)", "size": "3"}]},{"name": "Clostridia (19587)", "size": "19587", "children": [{"name": "Thermoanaerobacterales (3)", "size": "3", "children": [{"name": "Thermoanaerobacteraceae (1)", "size": "1", "children": [{"name": "Thermoanaerobacter (1)", "size": "1", "children": [{"name": "Thermoanaerobacter wiegelii (1)", "size": "1"}]}]},{"name": "Thermodesulfobiaceae (2)", "size": "2", "children": [{"name": "Thermodesulfobium (2)", "size": "2", "children": [{"name": "unassigned Thermodesulfobium (2)", "size": "2"}]}]}]},{"name": "Clostridiales (19563)", "size": "19563", "children": [{"name": "Clostridiaceae (463)", "size": "463", "children": [{"name": "Clostridium (415)", "size": "415", "children": [{"name": "Clostridium acetobutylicum (2)", "size": "2"},{"name": "Clostridium botulinum (170)", "size": "170"},{"name": "Clostridium cellulovorans (3)", "size": "3"},{"name": "Clostridium pasteurianum (1)", "size": "1"},{"name": "Clostridium perfringens (4)", "size": "4"},{"name": "Clostridium septicum (49)", "size": "49"},{"name": "Clostridium beijerinckii (1)", "size": "1"},{"name": "Clostridium baratii (1)", "size": "1"},{"name": "Clostridium argentinense (73)", "size": "73"},{"name": "Clostridium intestinale (1)", "size": "1"},{"name": "Clostridium isatidis (9)", "size": "9"},{"name": "Clostridium estertheticum (27)", "size": "27"},{"name": "Clostridium drakei (28)", "size": "28"},{"name": "Clostridium bornimense (3)", "size": "3"},{"name": "Clostridium thermarum (2)", "size": "2"},{"name": "Clostridium sp. SY8519 (6)", "size": "6"},{"name": "Clostridium sp. \'deep sea\' (1)", "size": "1"},{"name": "unassigned Clostridium (34)", "size": "34"}]},{"name": "Caloramator (18)", "size": "18", "children": [{"name": "Caloramator sp. E03 (18)", "size": "18"}]},{"name": "Candidatus Arthromitus (1)", "size": "1", "children": [{"name": "unassigned Candidatus Arthromitus (1)", "size": "1"}]},{"name": "Caloranaerobacter (2)", "size": "2", "children": [{"name": "Caloranaerobacter azorensis (2)", "size": "2"}]},{"name": "Geosporobacter (2)", "size": "2", "children": [{"name": "Geosporobacter ferrireducens (2)", "size": "2"}]},{"name": "Hungatella (22)", "size": "22", "children": [{"name": "Hungatella hathewayi (22)", "size": "22"}]},{"name": "unassigned Clostridiaceae (3)", "size": "3"}]},{"name": "Heliobacteriaceae (35)", "size": "35", "children": [{"name": "Heliorestis (35)", "size": "35", "children": [{"name": "Heliorestis convoluta (35)", "size": "35"}]}]},{"name": "Lachnospiraceae (8530)", "size": "8530", "children": [{"name": "Butyrivibrio (222)", "size": "222", "children": [{"name": "Butyrivibrio proteoclasticus (27)", "size": "27"},{"name": "Butyrivibrio hungatei (173)", "size": "173"},{"name": "unassigned Butyrivibrio (22)", "size": "22"}]},{"name": "Roseburia (2765)", "size": "2765", "children": [{"name": "Roseburia intestinalis (1800)", "size": "1800"},{"name": "Roseburia hominis (775)", "size": "775"},{"name": "unassigned Roseburia (190)", "size": "190"}]},{"name": "Lachnospira (423)", "size": "423", "children": [{"name": "Lachnospira eligens (423)", "size": "423"}]},{"name": "Pseudobutyrivibrio (14)", "size": "14", "children": [{"name": "Pseudobutyrivibrio xylanivorans (14)", "size": "14"}]},{"name": "Anaerostipes (252)", "size": "252", "children": [{"name": "Anaerostipes caccae (11)", "size": "11"},{"name": "Anaerostipes hadrus (116)", "size": "116"},{"name": "Anaerostipes rhamnosivorans (105)", "size": "105"},{"name": "unassigned Anaerostipes (20)", "size": "20"}]},{"name": "Blautia (2589)", "size": "2589", "children": [{"name": "Blautia producta (7)", "size": "7"},{"name": "Blautia argi (707)", "size": "707"},{"name": "Blautia sp. SC05B48 (537)", "size": "537"},{"name": "Blautia sp. LZLJ-3 (23)", "size": "23"},{"name": "unassigned Blautia (1315)", "size": "1315"}]},{"name": "Lachnoanaerobaculum (258)", "size": "258", "children": [{"name": "Lachnoanaerobaculum umeaense (258)", "size": "258"}]},{"name": "Lachnoclostridium (458)", "size": "458", "children": [{"name": "[Clostridium] scindens (3)", "size": "3"},{"name": "Lachnoclostridium phytofermentans (1)", "size": "1"},{"name": "[Clostridium] hylemonae (110)", "size": "110"},{"name": "Lachnoclostridium phocaeense (338)", "size": "338"},{"name": "unassigned Lachnoclostridium (6)", "size": "6"}]},{"name": "Herbinix (19)", "size": "19", "children": [{"name": "Herbinix luporum (19)", "size": "19"}]},{"name": "Anaerocolumna (590)", "size": "590", "children": [{"name": "Anaerocolumna cellulosilytica (583)", "size": "583"},{"name": "Anaerocolumna sp. CBA3638 (6)", "size": "6"},{"name": "unassigned Anaerocolumna (1)", "size": "1"}]},{"name": "Anaerotignum (43)", "size": "43", "children": [{"name": "Anaerotignum propionicum (43)", "size": "43"}]},{"name": "Mediterraneibacter (31)", "size": "31", "children": [{"name": "[Ruminococcus] gnavus (31)", "size": "31"}]},{"name": "Anaerobutyricum (304)", "size": "304", "children": [{"name": "Anaerobutyricum hallii (304)", "size": "304"}]},{"name": "Lacrimispora (19)", "size": "19", "children": [{"name": "unassigned Lacrimispora (19)", "size": "19"}]},{"name": "Enterocloster (4)", "size": "4", "children": [{"name": "Enterocloster clostridioformis (4)", "size": "4"}]},{"name": "unassigned Lachnospiraceae (539)", "size": "539"}]},{"name": "Peptostreptococcaceae (31)", "size": "31", "children": [{"name": "Filifactor (8)", "size": "8", "children": [{"name": "Filifactor alocis (8)", "size": "8"}]},{"name": "Acetoanaerobium (1)", "size": "1", "children": [{"name": "Acetoanaerobium sticklandii (1)", "size": "1"}]},{"name": "Peptoclostridium (1)", "size": "1", "children": [{"name": "Peptoclostridium acidaminophilum (1)", "size": "1"}]},{"name": "Romboutsia (1)", "size": "1", "children": [{"name": "Romboutsia ilealis (1)", "size": "1"}]},{"name": "Paeniclostridium (6)", "size": "6", "children": [{"name": "Paeniclostridium sordellii (6)", "size": "6"}]},{"name": "Peptacetobacter (1)", "size": "1", "children": [{"name": "Peptacetobacter hiranonis (1)", "size": "1"}]},{"name": "unassigned Peptostreptococcaceae (13)", "size": "13"}]},{"name": "Eubacteriaceae (49)", "size": "49", "children": [{"name": "Eubacterium (37)", "size": "37", "children": [{"name": "[Eubacterium] cellulosolvens (34)", "size": "34"},{"name": "unassigned Eubacterium (3)", "size": "3"}]},{"name": "Acetobacterium (7)", "size": "7", "children": [{"name": "unassigned Acetobacterium (7)", "size": "7"}]},{"name": "unassigned Eubacteriaceae (5)", "size": "5"}]},{"name": "Peptococcaceae (3)", "size": "3", "children": [{"name": "Desulfotomaculum (1)", "size": "1", "children": [{"name": "Desulfotomaculum nigrificans (1)", "size": "1"}]},{"name": "Dehalobacterium (1)", "size": "1", "children": [{"name": "Dehalobacterium formicoaceticum (1)", "size": "1"}]},{"name": "Dehalobacter (1)", "size": "1", "children": [{"name": "Dehalobacter restrictus (1)", "size": "1"}]}]},{"name": "Oscillospiraceae (1066)", "size": "1066", "children": [{"name": "Oscillibacter (1023)", "size": "1023", "children": [{"name": "Oscillibacter valericigenes (392)", "size": "392"},{"name": "Oscillibacter sp. NSJ-62 (587)", "size": "587"},{"name": "unassigned Oscillibacter (44)", "size": "44"}]},{"name": "unassigned Oscillospiraceae (43)", "size": "43"}]},{"name": "Clostridiales Family XIII. Incertae Sedis (9)", "size": "9", "children": [{"name": "Mogibacterium (7)", "size": "7", "children": [{"name": "unassigned Mogibacterium (7)", "size": "7"}]},{"name": "Aminipila (2)", "size": "2", "children": [{"name": "unassigned Aminipila (2)", "size": "2"}]}]},{"name": "Clostridiales Family XVI. Incertae Sedis (1)", "size": "1", "children": [{"name": "Carboxydocella (1)", "size": "1", "children": [{"name": "Carboxydocella thermautotrophica (1)", "size": "1"}]}]},{"name": "Intestinimonas (65)", "size": "65", "children": [{"name": "Intestinimonas butyriciproducens (65)", "size": "65"}]},{"name": "Flintibacter (32)", "size": "32", "children": [{"name": "Flintibacter sp. KGMB00164 (32)", "size": "32"}]},{"name": "Monoglobus (109)", "size": "109", "children": [{"name": "Monoglobus pectinilyticus (109)", "size": "109"}]},{"name": "Massilistercora (25)", "size": "25", "children": [{"name": "Massilistercora timonensis (25)", "size": "25"}]},{"name": "Ruminococcaceae (8450)", "size": "8450", "children": [{"name": "Ruminococcus (2451)", "size": "2451", "children": [{"name": "Ruminococcus albus (1)", "size": "1"},{"name": "Ruminococcus bicirculans (3)", "size": "3"},{"name": "Ruminococcus champanellensis (1231)", "size": "1231"},{"name": "Ruminococcus sp. JE7A12 (2)", "size": "2"},{"name": "unassigned Ruminococcus (1214)", "size": "1214"}]},{"name": "Faecalibacterium (4163)", "size": "4163", "children": [{"name": "Faecalibacterium prausnitzii (4163)", "size": "4163"}]},{"name": "Ethanoligenens (16)", "size": "16", "children": [{"name": "Ethanoligenens harbinense (16)", "size": "16"}]},{"name": "Flavonifractor (103)", "size": "103", "children": [{"name": "Flavonifractor plautii (103)", "size": "103"}]},{"name": "Caproiciproducens (465)", "size": "465", "children": [{"name": "Caproiciproducens sp. 7D4C2 (1)", "size": "1"},{"name": "unassigned Caproiciproducens (464)", "size": "464"}]},{"name": "Ruthenibacterium (1016)", "size": "1016", "children": [{"name": "Ruthenibacterium lactatiformans (1016)", "size": "1016"}]},{"name": "Acutalibacter (48)", "size": "48", "children": [{"name": "Acutalibacter muris (48)", "size": "48"}]},{"name": "unassigned Ruminococcaceae (188)", "size": "188"}]},{"name": "Christensenellaceae (16)", "size": "16", "children": [{"name": "Christensenella (16)", "size": "16", "children": [{"name": "Christensenella minuta (13)", "size": "13"},{"name": "Christensenella sp. Marseille-P3954 (3)", "size": "3"}]}]},{"name": "Hungateiclostridiaceae (75)", "size": "75", "children": [{"name": "Fastidiosipila (4)", "size": "4", "children": [{"name": "Fastidiosipila sanguinis (4)", "size": "4"}]},{"name": "Thermoclostridium (1)", "size": "1", "children": [{"name": "Thermoclostridium stercorarium (1)", "size": "1"}]},{"name": "Hungateiclostridium (66)", "size": "66", "children": [{"name": "Hungateiclostridium saccincola (16)", "size": "16"},{"name": "unassigned Hungateiclostridium (50)", "size": "50"}]},{"name": "unassigned Hungateiclostridiaceae (4)", "size": "4"}]},{"name": "Vallitaleaceae (1)", "size": "1", "children": [{"name": "Petrocella (1)", "size": "1", "children": [{"name": "Petrocella atlantisensis (1)", "size": "1"}]}]},{"name": "unassigned Clostridiales (603)", "size": "603"}]},{"name": "unassigned Clostridia (21)", "size": "21"}]},{"name": "Erysipelotrichia (226)", "size": "226", "children": [{"name": "Erysipelotrichales (226)", "size": "226", "children": [{"name": "Erysipelotrichaceae (226)", "size": "226", "children": [{"name": "Erysipelothrix (1)", "size": "1", "children": [{"name": "Erysipelothrix larvae (1)", "size": "1"}]},{"name": "Turicibacter (2)", "size": "2", "children": [{"name": "Turicibacter sanguinis (1)", "size": "1"},{"name": "Turicibacter sp. H121 (1)", "size": "1"}]},{"name": "Erysipelatoclostridium (3)", "size": "3", "children": [{"name": "[Clostridium] innocuum (1)", "size": "1"},{"name": "Erysipelatoclostridium ramosum (2)", "size": "2"}]},{"name": "Faecalitalea (6)", "size": "6", "children": [{"name": "Faecalitalea cylindroides (6)", "size": "6"}]},{"name": "Longibaculum (198)", "size": "198", "children": [{"name": "Longibaculum sp. KGMB06250 (198)", "size": "198"}]},{"name": "Intestinibaculum (16)", "size": "16", "children": [{"name": "Intestinibaculum porci (16)", "size": "16"}]}]}]}]},{"name": "Negativicutes (168)", "size": "168", "children": [{"name": "Selenomonadales (10)", "size": "10", "children": [{"name": "Sporomusaceae (9)", "size": "9", "children": [{"name": "Methylomusa (9)", "size": "9", "children": [{"name": "Methylomusa anaerophila (9)", "size": "9"}]}]},{"name": "Selenomonadaceae (1)", "size": "1", "children": [{"name": "unassigned Selenomonadaceae (1)", "size": "1"}]}]},{"name": "Acidaminococcales (119)", "size": "119", "children": [{"name": "Acidaminococcaceae (119)", "size": "119", "children": [{"name": "Phascolarctobacterium (118)", "size": "118", "children": [{"name": "Phascolarctobacterium faecium (118)", "size": "118"}]},{"name": "unassigned Acidaminococcaceae (1)", "size": "1"}]}]},{"name": "Veillonellales (39)", "size": "39", "children": [{"name": "Veillonellaceae (39)", "size": "39", "children": [{"name": "Dialister (38)", "size": "38", "children": [{"name": "unassigned Dialister (38)", "size": "38"}]},{"name": "unassigned Veillonellaceae (1)", "size": "1"}]}]}]},{"name": "Limnochordia (16)", "size": "16", "children": [{"name": "Limnochordales (16)", "size": "16", "children": [{"name": "Limnochordaceae (16)", "size": "16", "children": [{"name": "Limnochorda (16)", "size": "16", "children": [{"name": "Limnochorda pilosa (16)", "size": "16"}]}]}]}]},{"name": "Tissierellia (5)", "size": "5", "children": [{"name": "Tissierellales (5)", "size": "5", "children": [{"name": "Peptoniphilaceae (4)", "size": "4", "children": [{"name": "Finegoldia (1)", "size": "1", "children": [{"name": "Finegoldia magna (1)", "size": "1"}]},{"name": "Peptoniphilus (2)", "size": "2", "children": [{"name": "Peptoniphilus ivorii (1)", "size": "1"},{"name": "Peptoniphilus sp. ING2-D1G (1)", "size": "1"}]},{"name": "Parvimonas (1)", "size": "1", "children": [{"name": "Parvimonas micra (1)", "size": "1"}]}]},{"name": "unassigned Tissierellales (1)", "size": "1"}]}]},{"name": "unassigned Firmicutes (37)", "size": "37"}]},{"name": "Chloroflexi (1)", "size": "1", "children": [{"name": "unassigned Chloroflexi (1)", "size": "1"}]},{"name": "Actinobacteria (628)", "size": "628", "children": [{"name": "Actinobacteria (501)", "size": "501", "children": [{"name": "Actinomycetales (4)", "size": "4", "children": [{"name": "Actinomycetaceae (4)", "size": "4", "children": [{"name": "Schaalia (4)", "size": "4", "children": [{"name": "Schaalia odontolytica (4)", "size": "4"}]}]}]},{"name": "Bifidobacteriales (466)", "size": "466", "children": [{"name": "Bifidobacteriaceae (466)", "size": "466", "children": [{"name": "Bifidobacterium (460)", "size": "460", "children": [{"name": "Bifidobacterium adolescentis (1)", "size": "1"},{"name": "Bifidobacterium angulatum (1)", "size": "1"},{"name": "Bifidobacterium dentium (2)", "size": "2"},{"name": "Bifidobacterium animalis (2)", "size": "2"},{"name": "Bifidobacterium pullorum (1)", "size": "1"},{"name": "Bifidobacterium longum (17)", "size": "17"},{"name": "unassigned Bifidobacterium (436)", "size": "436"}]},{"name": "unassigned Bifidobacteriaceae (6)", "size": "6"}]}]},{"name": "Micrococcales (2)", "size": "2", "children": [{"name": "Micrococcaceae (2)", "size": "2", "children": [{"name": "Rothia (2)", "size": "2", "children": [{"name": "Rothia mucilaginosa (2)", "size": "2"}]}]}]},{"name": "Corynebacteriales (1)", "size": "1", "children": [{"name": "Nocardiaceae (1)", "size": "1", "children": [{"name": "Rhodococcus (1)", "size": "1", "children": [{"name": "unassigned Rhodococcus (1)", "size": "1"}]}]}]},{"name": "Streptosporangiales (24)", "size": "24", "children": [{"name": "Streptosporangiaceae (24)", "size": "24", "children": [{"name": "Nonomuraea (24)", "size": "24", "children": [{"name": "unassigned Nonomuraea (24)", "size": "24"}]}]}]},{"name": "unassigned Actinobacteria (4)", "size": "4"}]},{"name": "Rubrobacteria (1)", "size": "1", "children": [{"name": "Rubrobacterales (1)", "size": "1", "children": [{"name": "Rubrobacteraceae (1)", "size": "1", "children": [{"name": "Rubrobacter (1)", "size": "1", "children": [{"name": "unassigned Rubrobacter (1)", "size": "1"}]}]}]}]},{"name": "Coriobacteriia (125)", "size": "125", "children": [{"name": "Coriobacteriales (81)", "size": "81", "children": [{"name": "Coriobacteriaceae (80)", "size": "80", "children": [{"name": "Collinsella (80)", "size": "80", "children": [{"name": "Collinsella aerofaciens (80)", "size": "80"}]}]},{"name": "unassigned Coriobacteriales (1)", "size": "1"}]},{"name": "Eggerthellales (44)", "size": "44", "children": [{"name": "Eggerthellaceae (44)", "size": "44", "children": [{"name": "Adlercreutzia (4)", "size": "4", "children": [{"name": "unassigned Adlercreutzia (4)", "size": "4"}]},{"name": "Gordonibacter (5)", "size": "5", "children": [{"name": "unassigned Gordonibacter (5)", "size": "5"}]},{"name": "Phoenicibacter (32)", "size": "32", "children": [{"name": "Phoenicibacter congonensis (32)", "size": "32"}]},{"name": "unassigned Eggerthellaceae (3)", "size": "3"}]}]}]},{"name": "Nitriliruptoria (1)", "size": "1", "children": [{"name": "Egicoccales (1)", "size": "1", "children": [{"name": "Egicoccaceae (1)", "size": "1", "children": [{"name": "Egicoccus (1)", "size": "1", "children": [{"name": "Egicoccus halophilus (1)", "size": "1"}]}]}]}]}]},{"name": "Tenericutes (17)", "size": "17", "children": [{"name": "Mollicutes (17)", "size": "17", "children": [{"name": "Mycoplasmatales (17)", "size": "17", "children": [{"name": "Mycoplasmataceae (17)", "size": "17", "children": [{"name": "Mycoplasma (15)", "size": "15", "children": [{"name": "Mycoplasma conjunctivae (15)", "size": "15"}]},{"name": "Candidatus Hepatoplasma (2)", "size": "2", "children": [{"name": "Candidatus Hepatoplasma crinochetorum (2)", "size": "2"}]}]}]}]}]},{"name": "Cyanobacteria (5)", "size": "5", "children": [{"name": "Oscillatoriales (2)", "size": "2", "children": [{"name": "Microcoleaceae (1)", "size": "1", "children": [{"name": "Trichodesmium (1)", "size": "1", "children": [{"name": "Trichodesmium erythraeum (1)", "size": "1"}]}]},{"name": "Oscillatoriaceae (1)", "size": "1", "children": [{"name": "Oscillatoria (1)", "size": "1", "children": [{"name": "Oscillatoria acuminata (1)", "size": "1"}]}]}]},{"name": "Synechococcales (1)", "size": "1", "children": [{"name": "unassigned Synechococcales (1)", "size": "1"}]},{"name": "unassigned Cyanobacteria (2)", "size": "2"}]},{"name": "Coprothermobacterota (29)", "size": "29", "children": [{"name": "Coprothermobacteria (29)", "size": "29", "children": [{"name": "Coprothermobacterales (29)", "size": "29", "children": [{"name": "Coprothermobacteraceae (29)", "size": "29", "children": [{"name": "Coprothermobacter (29)", "size": "29", "children": [{"name": "Coprothermobacter proteolyticus (29)", "size": "29"}]}]}]}]}]},{"name": "unassigned Bacteria (196)", "size": "196"}]},{"name": "Archaea (44)", "size": "44", "children": [{"name": "Euryarchaeota (43)", "size": "43", "children": [{"name": "Methanobacteria (43)", "size": "43", "children": [{"name": "Methanobacteriales (43)", "size": "43", "children": [{"name": "Methanobacteriaceae (43)", "size": "43", "children": [{"name": "Methanobrevibacter (43)", "size": "43", "children": [{"name": "Methanobrevibacter smithii (43)", "size": "43"}]}]}]}]}]},{"name": "Candidatus Thermoplasmatota (1)", "size": "1", "children": [{"name": "Thermoplasmata (1)", "size": "1", "children": [{"name": "Methanomassiliicoccales (1)", "size": "1", "children": [{"name": "Methanomassiliicoccaceae (1)", "size": "1", "children": [{"name": "Methanomassiliicoccus (1)", "size": "1", "children": [{"name": "Candidatus Methanomassiliicoccus intestinalis (1)", "size": "1"}]}]}]}]}]}]}]}'
        );
        tree_root.x0 = height / 2;
        tree_root.y0 = 0;
        var max = tree_root.size;
        function collapse(d) {
            if (d.children) {
                d._children = d.children;
                d._children.forEach(collapse);
                d.children = null;
            }
        }
        tree_root.children.forEach(collapse);
        update(tree_root);
        d3.select(self.frameElement).style("height", "800px");
        function update(source) {
            var nodes = tree.nodes(tree_root).reverse(),
                links = tree.links(nodes);
            nodes.forEach(function (d) {
                d.y = d.depth * 180;
            });
            var node = tree_svg.selectAll("g.node").data(nodes, function (d) {
                return d.id || (d.id = ++i);
            });
            var nodeEnter = node
                .enter()
                .append("g")
                .attr("class", "node")
                .attr("transform", function (d) {
                    return "translate(" + source.y0 + "," + source.x0 + ")";
                })
                .on("click", click);
            nodeEnter
                .append("circle")
                .attr("r", 1e-6)
                .style("fill", function (d) {
                    return d._children ? "lightsteelblue" : "#fff";
                });
            nodeEnter
                .append("text")
                .attr("x", function (d) {
                    return d.children || d._children
                        ? -10 - (d.size / max) * 10
                        : 10 + (d.size / max) * 10;
                })
                .attr("dy", ".35em")
                .attr("text-anchor", function (d) {
                    return d.children || d._children ? "end" : "start";
                })
                .text(function (d) {
                    return d.name;
                })
                .style("fill-opacity", 1e-6);
            var nodeUpdate = node
                .transition()
                .duration(duration)
                .attr("transform", function (d) {
                    return "translate(" + d.y + "," + d.x + ")";
                });
            nodeUpdate
                .select("circle")
                .attr("r", function (d) {
                    return (d.size / max) * 10;
                })
                .style("fill", function (d) {
                    return d._children ? "lightsteelblue" : "#fff";
                });
            nodeUpdate.select("text").style("fill-opacity", 1);
            var nodeExit = node
                .exit()
                .transition()
                .duration(duration)
                .attr("transform", function (d) {
                    return "translate(" + source.y + "," + source.x + ")";
                })
                .remove();
            nodeExit.select("circle").attr("r", 1e-6);
            nodeExit.select("text").style("fill-opacity", 1e-6);
            var link = tree_svg.selectAll("path.link").data(links, function (d) {
                return d.target.id;
            });
            link
                .enter()
                .insert("path", "g")
                .attr("class", "link")
                .attr("d", function (d) {
                    var o = { x: source.x0, y: source.y0 };
                    return diagonal({ source: o, target: o });
                });
            link.transition().duration(duration).attr("d", diagonal);
            link
                .exit()
                .transition()
                .duration(duration)
                .attr("d", function (d) {
                    var o = { x: source.x, y: source.y };
                    return diagonal({ source: o, target: o });
                })
                .remove();
            nodes.forEach(function (d) {
                d.x0 = d.x;
                d.y0 = d.y;
            });
        }

        var new_data = partition.nodes(root).slice(1);

        function click(d) {
            if (d.children) {
                d._children = d.children;
                d.children = null;

                var data;
                for (var item of new_data) {
                    if (d.name == item.parent.name) {
                        if (!item.parent.parent.parent) {
                            data = item.parent;
                            new_data = partition.nodes(item.parent.parent).slice(1);
                        } else {
                            data = item.parent;
                            new_data = partition.nodes(item.parent.parent).slice(1);
                        }
                        break;
                    }
                }
                zoomOut(data);
            } else {
                d.children = d._children;
                d._children = null;

                var data;
                for (var item of new_data) {
                    if (d.name == item.name) {
                        data = item;
                        new_data = partition.nodes(data).slice(1);
                        break;
                    }
                }
                zoomIn(data);
            }
            update(d);
        }
    </script>
</body>

</html>